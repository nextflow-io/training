/*
 * AWS Batch execution configuration
 * NOTE: This is an example configuration - you need AWS credentials
 * and infrastructure set up to actually use this.
 */

// Enable AWS Batch executor
executor {
    name = 'awsbatch'
    // Queue name from your AWS Batch setup
    queueName = 'my-batch-queue'
}

// AWS region
aws {
    region = 'us-east-1'
    batch {
        // Optional: specify compute environment
        // computeEnvironment = 'my-compute-env'

        // Job container settings
        jobRole = 'arn:aws:iam::123456789:role/nextflow-batch-role'
    }
}

// Use S3 for work directory (required for AWS Batch)
workDir = 's3://my-bucket/work'

// Process configuration for cloud
process {
    // Container is required for AWS Batch
    container = 'ubuntu:22.04'

    // Resource labels for different process types
    withLabel: 'small' {
        cpus = 2
        memory = '4.GB'
    }

    withLabel: 'large' {
        cpus = 8
        memory = '32.GB'
    }
}

// Fusion filesystem for improved performance (optional)
fusion {
    enabled = true
}

// Wave container service for on-demand containers (optional)
wave {
    enabled = true
}
