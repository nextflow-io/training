// Nextflow configuration file for development best practices

// Global parameters
params {
    input = 'data/sample_data.csv'
    output = 'results'
    publish_dir_mode = 'copy'
}

// Execution profiles
profiles {
    test {
        params.input = 'data/sample_data.csv'
        params.output = 'test_results'
        process.executor = 'local'
    }

    dev {
        params.output = 'dev_results'
        process.executor = 'local'
        // Enable debugging features
        trace.enabled = true
        timeline.enabled = true
        report.enabled = true
    }

    cluster {
        process.executor = 'slurm'
        process.queue = 'compute'
        process.clusterOptions = '--partition=normal'
    }

    docker {
        docker.enabled = true
    }

    singularity {
        singularity.enabled = true
        singularity.autoMounts = true
    }
}

// Report configuration
trace {
    enabled = true
    overwrite = true
    file = "${params.output}/trace.txt"
}

timeline {
    enabled = true
    file = "${params.output}/timeline.html"
    overwrite = true
}

report {
    enabled = true
    file = "${params.output}/report.html"
    overwrite = true
}

// Manifest
manifest {
    name = 'Development Best Practices'
    description = 'Example workflows for learning Nextflow development best practices'
    version = '1.0.0'
    nextflowVersion = '>=21.10.0'
}
