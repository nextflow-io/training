
<!DOCTYPE html>

<html class="no-js" lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Fundamentals Nextflow Training Workshop" name="description"/>
<link href="https://training.nextflow.io/0.dev/fr/archive/basic_training/processes/" rel="canonical"/>
<link href="../channels/" rel="prev"/>
<link href="../operators/" rel="next"/>
<link href="../../../../assets/img/nextflow-icon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.22" name="generator"/>
<title>Processes - training.nextflow.io</title>
<link href="../../../../assets/stylesheets/main.84d31ad4.min.css" rel="stylesheet"/>
<link href="../../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style>
<link href="../../../../assets/stylesheets/fonts.css" rel="stylesheet"/>
<link href="../../../../assets/stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-244N3GEN75"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-244N3GEN75",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-244N3GEN75",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
<script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#processes">
          Aller au contenu
        </a>
</div>
<div data-md-component="announce">
<aside class="md-banner">
<div class="md-banner__inner md-grid md-typeset">
<div style="text-align: center">
  Nextflow Training Week (2025-Q1):
  <strong>March 10-14, 2025</strong>
<a class="md-button" href="https://community.seqera.io/t/nextflow-training-week-2025-q1/1775/6" target="_blank">
    More info
    <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg></span>
</a>
</div>
<style type="text/css">
  .md-banner {
    display: none;
  }
</style>
<script>
  (function () {
    function hideAnnouncement() {
      var announcementDate = new Date(
        "2025-03-15T00:00:00Z",
      );
      var currentDate = new Date();
      var banner = document.querySelector(".md-banner");
      if (banner && currentDate <= announcementDate) {
        banner.style.display = "block";
      }
    }

    // Run on initial load
    hideAnnouncement();

    // Hook into XHR to run after each page update
    var originalOpen = XMLHttpRequest.prototype.open;
    XMLHttpRequest.prototype.open = function () {
      this.addEventListener("load", function () {
        setTimeout(hideAnnouncement, 0); // Ensure it runs after the request completes
      });
      return originalOpen.apply(this, arguments);
    };
  })();
</script>
</div>
</aside>
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="En-tête" class="md-header__inner md-grid">
<a aria-label="training.nextflow.io" class="md-header__button md-logo" data-md-component="logo" href="../../../" title="training.nextflow.io">
<img alt="logo" src="../../../../assets/img/nextflow_logo_dark.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            training.nextflow.io
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Processes
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<div class="md-header__option">
<div class="md-select">
<button aria-label="Sélectionner la langue" class="md-header__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"></path></svg>
</button>
<div class="md-select__inner">
<ul class="md-select__list">
<li class="md-select__item">
<a class="md-select__link" href="../../../../archive/basic_training/processes/" hreflang="en">
              English
            </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="../../../../pt/archive/basic_training/processes/" hreflang="pt">
              Português
            </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="../../../../es/archive/basic_training/processes/" hreflang="es">
              Español
            </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="./" hreflang="fr">
              Français
            </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="../../../../it/archive/basic_training/processes/" hreflang="it">
              Italiano
            </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="../../../../ko/archive/basic_training/processes/" hreflang="ko">
              Korean
            </a>
</li>
</ul>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Rechercher" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Rechercher" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Recherche" class="md-search__options">
<a aria-label="Partager" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Partager">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Effacer" class="md-search__icon md-icon" tabindex="-1" title="Effacer" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/nextflow-io/training" title="Aller au dépôt">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    nextflow-io/training
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="training.nextflow.io" class="md-nav__button md-logo" data-md-component="logo" href="../../../" title="training.nextflow.io">
<img alt="logo" src="../../../../assets/img/nextflow_logo_dark.png"/>
</a>
    training.nextflow.io
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/nextflow-io/training" title="Aller au dépôt">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    nextflow-io/training
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Environment setup
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Environment setup
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../envsetup/">
<span class="md-ellipsis">
    Environment Setup
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../envsetup/01_setup/">
<span class="md-ellipsis">
    GitHub Codespaces
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../envsetup/02_local/">
<span class="md-ellipsis">
    Local installation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../envsetup/03_devcontainer/">
<span class="md-ellipsis">
    Local installation using VSCode Devcontainers extension
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Nextflow Run
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Nextflow Run
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nextflow_run/">
<span class="md-ellipsis">
    Nextflow Run
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nextflow_run/00_orientation/">
<span class="md-ellipsis">
    Orientation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nextflow_run/01_basics/">
<span class="md-ellipsis">
    Part 1: Run basic operations
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nextflow_run/02_pipeline/">
<span class="md-ellipsis">
    Part 2: Run pipelines
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nextflow_run/03_config/">
<span class="md-ellipsis">
    Part 3: Configuration
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Hello Nextflow
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Hello Nextflow
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/">
<span class="md-ellipsis">
    Hello Nextflow
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/00_orientation/">
<span class="md-ellipsis">
    Orientation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/01_hello_world/">
<span class="md-ellipsis">
    Part 1: Hello World
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/02_hello_channels/">
<span class="md-ellipsis">
    Part 2: Hello Channels
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/03_hello_workflow/">
<span class="md-ellipsis">
    Part 3: Hello Workflow
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/04_hello_modules/">
<span class="md-ellipsis">
    Part 4: Hello Modules
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/05_hello_containers/">
<span class="md-ellipsis">
    Part 5: Hello Containers
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/06_hello_config/">
<span class="md-ellipsis">
    Part 6: Hello Config
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/survey/">
<span class="md-ellipsis">
    Feedback survey
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nextflow/next_steps/">
<span class="md-ellipsis">
    Next Steps
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Hello nf-core
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Hello nf-core
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nf-core/">
<span class="md-ellipsis">
    Hello nf-core
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nf-core/00_orientation/">
<span class="md-ellipsis">
    Orientation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nf-core/01_run_demo/">
<span class="md-ellipsis">
    Part 1: Run a demo pipeline
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nf-core/02_rewrite_hello/">
<span class="md-ellipsis">
    Part 2: Rewrite Hello for nf-core
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nf-core/survey/">
<span class="md-ellipsis">
    Feedback survey
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hello_nf-core/next_steps/">
<span class="md-ellipsis">
    Next Steps
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Nextflow for Science
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Nextflow for Science
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/">
<span class="md-ellipsis">
    Nextflow for Science
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
<span class="md-ellipsis">
    Genomics
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
            Genomics
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/genomics/">
<span class="md-ellipsis">
    Nextflow for Genomics
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/genomics/00_orientation/">
<span class="md-ellipsis">
    Orientation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/genomics/01_per_sample_variant_calling/">
<span class="md-ellipsis">
    Part 1: Per-sample variant calling
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/genomics/02_joint_calling/">
<span class="md-ellipsis">
    Part 2: Joint calling on a cohort
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/genomics/03_modules/">
<span class="md-ellipsis">
    Part 3: Moving code into modules
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/genomics/04_testing/">
<span class="md-ellipsis">
    Part 4: Adding tests
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/genomics/survey/">
<span class="md-ellipsis">
    Feedback survey
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/genomics/next_steps/">
<span class="md-ellipsis">
    Next Steps
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
<span class="md-ellipsis">
    RNAseq
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
            RNAseq
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/rnaseq/">
<span class="md-ellipsis">
    Nextflow for RNAseq
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/rnaseq/00_orientation/">
<span class="md-ellipsis">
    Orientation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/rnaseq/01_method/">
<span class="md-ellipsis">
    Part 1: Method overview and manual testing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/rnaseq/02_single-sample/">
<span class="md-ellipsis">
    Part 2: Single-sample implementation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/rnaseq/03_multi-sample/">
<span class="md-ellipsis">
    Part 3: Multi-sample paired-end implementation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/rnaseq/survey/">
<span class="md-ellipsis">
    Feedback survey
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nf4_science/rnaseq/next_steps/">
<span class="md-ellipsis">
    Next Steps
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Training Collections
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Training Collections
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../training_collections/">
<span class="md-ellipsis">
    Training Collections
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../training_collections/architects_toolkit_1/">
<span class="md-ellipsis">
    The Architect's Toolkit I
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    Side Quests
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Side Quests
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/">
<span class="md-ellipsis">
    Side Quests
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/orientation/">
<span class="md-ellipsis">
    Orientation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/dev_environment/">
<span class="md-ellipsis">
    Development Environment
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/metadata/">
<span class="md-ellipsis">
    Metadata in workflows
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/working_with_files/">
<span class="md-ellipsis">
    Working with Files
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/splitting_and_grouping/">
<span class="md-ellipsis">
    Splitting and Grouping
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/workflows_of_workflows/">
<span class="md-ellipsis">
    Workflows of Workflows
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/debugging/">
<span class="md-ellipsis">
    Debugging Workflows
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/nf-test/">
<span class="md-ellipsis">
    Testing with nf-test
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../side_quests/nf-core/">
<span class="md-ellipsis">
    Introduction to nf-core
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
<span class="md-ellipsis">
    Archive
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
            Archive
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_9_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
<span class="md-ellipsis">
    Fundamentals Training
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_9_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_9_1">
<span class="md-nav__icon md-icon"></span>
            Fundamentals Training
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Index
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../orientation/">
<span class="md-ellipsis">
    Orientation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../intro/">
<span class="md-ellipsis">
    Intro
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../rnaseq_pipeline/">
<span class="md-ellipsis">
    Rnaseq pipeline
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../containers/">
<span class="md-ellipsis">
    Dependencies and containers
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../channels/">
<span class="md-ellipsis">
    Channels
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Processes
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Processes
    
  </span>
</a>
<nav aria-label="On this page" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
    On this page
  </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#script">
<span class="md-ellipsis">
      Script
    </span>
</a>
<nav aria-label="Script" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#script-parameters">
<span class="md-ellipsis">
      Script parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conditional-script">
<span class="md-ellipsis">
      Conditional script
    </span>
</a>
</li>
</ul>
</nav>
</li> <li class="md-nav__item">
<a class="md-nav__link" href="#inputs">
<span class="md-ellipsis">
      Inputs
    </span>
</a>
<nav aria-label="Inputs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#input-values">
<span class="md-ellipsis">
      Input values
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#input-files">
<span class="md-ellipsis">
      Input files
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#combine-input-channels">
<span class="md-ellipsis">
      Combine input channels
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#input-repeaters">
<span class="md-ellipsis">
      Input repeaters
    </span>
</a>
</li>
</ul>
</nav>
</li> <li class="md-nav__item">
<a class="md-nav__link" href="#outputs">
<span class="md-ellipsis">
      Outputs
    </span>
</a>
<nav aria-label="Outputs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#output-values">
<span class="md-ellipsis">
      Output values
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#output-files">
<span class="md-ellipsis">
      Output files
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multiple-output-files">
<span class="md-ellipsis">
      Multiple output files
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dynamic-output-file-names">
<span class="md-ellipsis">
      Dynamic output file names
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#composite-inputs-and-outputs">
<span class="md-ellipsis">
      Composite inputs and outputs
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#output-definitions">
<span class="md-ellipsis">
      Output definitions
    </span>
</a>
</li>
</ul>
</nav>
</li> <li class="md-nav__item">
<a class="md-nav__link" href="#when">
<span class="md-ellipsis">
      When
    </span>
</a>
</li> <li class="md-nav__item">
<a class="md-nav__link" href="#directives">
<span class="md-ellipsis">
      Directives
    </span>
</a>
<nav aria-label="Directives" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#resource-allocation">
<span class="md-ellipsis">
      Resource allocation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#publishdir-directive">
<span class="md-ellipsis">
      PublishDir directive
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
<nav aria-label="Resources" class="md-nav md-nav--secondary sidebar_resources">
<label class="md-nav__title">Resources</label>
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="https://nextflow.io/docs/latest/index.html" rel="noopener" target="_blank">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M17.5 14.33c.79 0 1.63.08 2.5.24v1.5c-.62-.16-1.46-.24-2.5-.24-1.9 0-3.39.33-4.5.99v-1.69c1.17-.53 2.67-.8 4.5-.8M13 12.46c1.29-.53 2.79-.79 4.5-.79.79 0 1.63.07 2.5.23v1.5c-.62-.16-1.46-.24-2.5-.24-1.9 0-3.39.34-4.5.99m4.5-3.65c-1.9 0-3.39.32-4.5 1V9.84c1.23-.56 2.73-.84 4.5-.84.79 0 1.63.08 2.5.23v1.55c-.74-.19-1.59-.28-2.5-.28m3.5 8V7c-1.04-.33-2.21-.5-3.5-.5-2.05 0-3.88.5-5.5 1.5v11.5c1.62-1 3.45-1.5 5.5-1.5 1.19 0 2.36.16 3.5.5m-3.5-14c2.35 0 4.19.5 5.5 1.5v14.56c0 .12-.05.24-.16.35-.11.09-.23.17-.34.17-.11 0-.19-.02-.25-.05-1.28-.69-2.87-1.03-4.75-1.03-2.05 0-3.88.5-5.5 1.5-1.34-1-3.17-1.5-5.5-1.5-1.66 0-3.25.36-4.75 1.07-.03.01-.07.01-.12.03-.04.01-.08.02-.13.02-.11 0-.23-.04-.34-.12a.475.475 0 0 1-.16-.35V6c1.34-1 3.18-1.5 5.5-1.5 2.33 0 4.16.5 5.5 1.5 1.34-1 3.17-1.5 5.5-1.5Z"></path>
</svg>
        Nextflow Docs
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://www.nextflow.io/slack-invite.html" rel="noopener" target="_blank">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M6 15a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2h2v2m1 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-5m2-8a2 2 0 0 1-2-2 2 2 0 0 1 2-2 2 2 0 0 1 2 2v2H9m0 1a2 2 0 0 1 2 2 2 2 0 0 1-2 2H4a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5m8 2a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2h-2v-2m-1 0a2 2 0 0 1-2 2 2 2 0 0 1-2-2V5a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5m-2 8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2v-2h2m0-1a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-5Z"></path>
</svg>
        Nextflow Slack
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://nextflow.io/" rel="noopener" target="_blank">
<svg id="Layer_1" version="1.1" viewbox="80 50 350 350" xmlns="http://www.w3.org/2000/svg">
<style type="text/css">
            .st0 {
              fill: "gray";
            }
          </style>
<path class="st0" d="M124.5,171.5c39.4,2.6,71.1,34.3,73.5,73.8h46.1c-2.6-65-54.7-117.2-119.6-119.9V171.5z"></path>
<path class="st0" d="M198.3,255.8c-2.6,39.5-34.3,71.1-73.8,73.5v46.1c65-2.6,117.2-54.7,119.9-119.6H198.3z"></path>
<path class="st0" d="M300.7,245c2.6-39.5,34.3-71.1,73.8-73.5v-46.1c-65,2.6-117.2,54.7-119.9,119.6H300.7z"></path>
<path class="st0" d="M374.5,329.3c-39.4-2.6-71.1-34.3-73.5-73.8h-46.1c2.6,65,54.7,117.2,119.6,119.9V329.3z"></path>
</svg>
        Nextflow Homepage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://seqera.io/" rel="noopener" target="_blank">
<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 28.3.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg id="Layer_1" style="enable-background: new 0 0 500 500" version="1.1" viewbox="80 50 350 350" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
<style type="text/css">
            .st0 {
              clip-path: url(#SVGID_00000006699037935518914080000000086571810102047141_);
            }
            .st1 {
              fill: "gray";
            }
          </style>
<g>
<defs>
<rect height="250" id="SVGID_1_" width="250" x="125" y="125"></rect>
</defs>
<clippath id="SVGID_00000183214694142566821210000012389151436317298101_">
<use style="overflow: visible" xlink:href="#SVGID_1_"></use>
</clippath>
<g style="
                clip-path: url(#SVGID_00000183214694142566821210000012389151436317298101_);
              ">
<path class="st1" d="M375,333l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.8l-0.2-0.9l-0.2-0.8l-0.2-0.8
                      l-0.2-0.8l-0.2-0.8l-0.2-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8
                      l-0.4-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7L365,308l-0.6-0.6l-0.6-0.6l-0.6-0.6l-0.6-0.6L362,305
                      l-0.6-0.6l-0.7-0.6l-0.6-0.5l-1.2,0.7l-0.8,0.5l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.9,0.4l-0.9,0.4l-0.9,0.3l-0.9,0.3
                      l-0.9,0.3l-0.9,0.3l-0.9,0.3l-0.9,0.3l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.1l-0.9,0.1l-0.9,0.1l-0.9,0.1
                      l-0.9,0.1l-0.9,0.1l-0.9,0.1l-0.9,0l-0.9,0h-57.5l59.7,16.4l0.4,0.1l0.4,0.1l0.4,0.1l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2
                      l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.1,0.3l0.1,0.3l0.1,0.4l0.1,0.4
                      l0.1,0.4l0.1,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.3l-0.1,0.4l-0.1,0.3l-0.2,0.3l-0.2,0.3
                      l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.3,0.3l-0.3,0.3l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2
                      l-0.3,0.1l-0.4,0.2l-0.4,0.1l-0.3,0.1l-0.4,0.1l-0.4,0.1l-0.4,0.1l-0.4,0l-0.4,0l-0.4,0H125V375h209.7l0.9,0l0.9,0l0.9,0l0.8-0.1
                      l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.8-0.1l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3
                      l0.8-0.4l0.8-0.4l0.8-0.4l0.8-0.4l0.8-0.4l0.7-0.4l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5
                      l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.4-0.7
                      l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8
                      l0.2-0.8l0.1-0.8l0.1-0.9l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.9l0.1-0.8l0-0.9l0-0.9l0-0.8L375,333z"></path>
<path class="st1" d="M375,260.4l-0.1-0.9l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.8l-0.1-0.8l-0.1-0.8l-0.2-0.8l-0.2-0.8l-0.2-0.8
                      l-0.2-0.8l-0.2-0.8l-0.2-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.7
                      l-0.4-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.2-0.2h0h-89.8l59.7,16.4l0.4,0.1l0.4,0.1l0.4,0.1l0.3,0.2l0.3,0.2l0.3,0.2
                      l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.1,0.4l0.1,0.3
                      l0.1,0.4l0.1,0.4l0.1,0.4l0.1,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.3l-0.1,0.4
                      l-0.2,0.4l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.3,0.3l-0.3,0.3l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2
                      l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.4,0.2l-0.4,0.1l-0.3,0.1l-0.4,0.1l-0.4,0.1l-0.4,0.1l-0.4,0l-0.4,0l-0.4,0h-82.5h-111H125v32.2
                      h122.8h86.9h0.9l0.9,0l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.3
                      l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.4l0.8-0.4l0.2-0.1l0.6-0.3l0.8-0.4l0.8-0.4l0.7-0.4l0.7-0.4l0.7-0.5l0.7-0.5l0.7-0.5
                      l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.5-0.7l0.5-0.7l0.5-0.7
                      l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.4-0.7l0.4-0.7l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.3-0.8
                      l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.1-0.8l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.9l0-0.8l0-0.9l0-0.9
                      L375,260.4z"></path>
<path class="st1" d="M165.3,197.6l-0.9,0l-0.8,0l-0.9,0l-0.9,0.1l-0.8,0.1l-0.9,0.1l-0.8,0.1l-0.8,0.1l-0.8,0.2l-0.8,0.2l-0.8,0.2
                      l-0.8,0.2l-0.8,0.2l-0.8,0.2l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.4l-0.8,0.4l-0.2,0.1l-0.6,0.3l-0.8,0.4
                      l-0.8,0.4l-0.8,0.4l-0.7,0.4l-0.7,0.5l-0.7,0.5L142,205l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6
                      l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.5,0.6l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.4,0.7l-0.5,0.7l-0.4,0.7
                      l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.2,0.8l-0.2,0.8l-0.2,0.8
                      l-0.2,0.8l-0.2,0.8l-0.2,0.8l-0.1,0.9l-0.1,0.9l-0.1,0.8l-0.1,0.9l-0.1,0.9l0,0.9l0,0.9v0.9v0.9l0,0.8l0,0.9l0.1,0.8l0.1,0.8
                      l0.1,0.9l0.1,0.9l0.1,0.8l0.2,0.9l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8
                      l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.7l0.5,0.7l0.4,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.2,0.2h89.8l-59.7-16.4l-0.4-0.1l-0.3-0.1
                      l-0.4-0.1l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3
                      l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4
                      l0-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3
                      l0.3-0.3l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.4-0.2l0.3-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4,0l0.4,0
                      h0.4h82.5h111H375v-32.3H252.2H165.3z"></path>
<path class="st1" d="M165.3,125l-0.9,0l-0.8,0l-0.9,0.1l-0.9,0.1l-0.8,0.1l-0.9,0.1l-0.8,0.1l-0.8,0.1l-0.8,0.2l-0.8,0.2l-0.8,0.2
                      l-0.8,0.2l-0.8,0.2l-0.8,0.2l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.8,0.4
                      l-0.8,0.4l-0.7,0.5l-0.7,0.4l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.6l-0.7,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6
                      l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.4,0.7l-0.5,0.7l-0.4,0.7
                      l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.2,0.8l-0.2,0.8l-0.2,0.8
                      l-0.2,0.8l-0.2,0.8l-0.2,0.8l-0.1,0.9l-0.1,0.8l-0.1,0.9l-0.1,0.8l-0.1,0.9l0,0.9l0,0.9v0.9v0.9l0,0.9l0,0.8l0.1,0.9l0.1,0.9
                      l0.1,0.8l0.1,0.8l0.1,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8
                      l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.7l0.5,0.7l0.4,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.6,0.6l0.6,0.6
                      l0.6,0.6l0.6,0.6l0.6,0.6l0.6,0.6l0.6,0.6l0.7,0.6l0.6,0.5h0l1.1-0.7l0.8-0.5l0.8-0.5l0.8-0.4l0.8-0.4l0.9-0.4l0.9-0.4l0.9-0.4
                      l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.1l0.9-0.1l0.9-0.1l0.9-0.1
                      l0.9-0.1l0.9-0.1l0.9,0l0.9,0l0.9,0h57.5l-59.7-16.4l-0.4-0.1l-0.3-0.1l-0.4-0.1l-0.3-0.1l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2
                      l-0.3-0.2l-0.3-0.2l-0.3-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.1-0.3l-0.1-0.4
                      l-0.1-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.3
                      l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2
                      l0.3-0.2l0.4-0.1l0.3-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4,0l0.4,0l0.4,0H375V125H165.3z"></path>
</g>
</g>
</svg>
        Seqera
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/nextflow-io/training" rel="noopener" target="_blank">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"></path>
</svg>
        Training on GitHub
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../operators/">
<span class="md-ellipsis">
    Operators
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../groovy/">
<span class="md-ellipsis">
    Groovy introduction
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../modules/">
<span class="md-ellipsis">
    Modularization
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../config/">
<span class="md-ellipsis">
    Configuration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../executors/">
<span class="md-ellipsis">
    Executors
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../seqera_platform/">
<span class="md-ellipsis">
    Seqera platform
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cache_and_resume/">
<span class="md-ellipsis">
    Cache and resume
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../debugging/">
<span class="md-ellipsis">
    Debugging
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
<span class="md-ellipsis">
    Advanced Training
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_9_2">
<span class="md-nav__icon md-icon"></span>
            Advanced Training
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/">
<span class="md-ellipsis">
    Advanced Training
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/orientation/">
<span class="md-ellipsis">
    Orientation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/operators/">
<span class="md-ellipsis">
    Operator Tour
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/metadata/">
<span class="md-ellipsis">
    Metadata Propagation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/grouping/">
<span class="md-ellipsis">
    Grouping and Splitting
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/groovy/">
<span class="md-ellipsis">
    Groovy Imports
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/structure/">
<span class="md-ellipsis">
    Workflow Structure
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/configuration/">
<span class="md-ellipsis">
    Configuration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/summary/">
<span class="md-ellipsis">
    Summary
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced/support/">
<span class="md-ellipsis">
    Support
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../help/">
<span class="md-ellipsis">
    Help
    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="On this page" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
    On this page
  </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#script">
<span class="md-ellipsis">
      Script
    </span>
</a>
<nav aria-label="Script" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#script-parameters">
<span class="md-ellipsis">
      Script parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conditional-script">
<span class="md-ellipsis">
      Conditional script
    </span>
</a>
</li>
</ul>
</nav>
</li> <li class="md-nav__item">
<a class="md-nav__link" href="#inputs">
<span class="md-ellipsis">
      Inputs
    </span>
</a>
<nav aria-label="Inputs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#input-values">
<span class="md-ellipsis">
      Input values
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#input-files">
<span class="md-ellipsis">
      Input files
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#combine-input-channels">
<span class="md-ellipsis">
      Combine input channels
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#input-repeaters">
<span class="md-ellipsis">
      Input repeaters
    </span>
</a>
</li>
</ul>
</nav>
</li> <li class="md-nav__item">
<a class="md-nav__link" href="#outputs">
<span class="md-ellipsis">
      Outputs
    </span>
</a>
<nav aria-label="Outputs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#output-values">
<span class="md-ellipsis">
      Output values
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#output-files">
<span class="md-ellipsis">
      Output files
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multiple-output-files">
<span class="md-ellipsis">
      Multiple output files
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dynamic-output-file-names">
<span class="md-ellipsis">
      Dynamic output file names
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#composite-inputs-and-outputs">
<span class="md-ellipsis">
      Composite inputs and outputs
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#output-definitions">
<span class="md-ellipsis">
      Output definitions
    </span>
</a>
</li>
</ul>
</nav>
</li> <li class="md-nav__item">
<a class="md-nav__link" href="#when">
<span class="md-ellipsis">
      When
    </span>
</a>
</li> <li class="md-nav__item">
<a class="md-nav__link" href="#directives">
<span class="md-ellipsis">
      Directives
    </span>
</a>
<nav aria-label="Directives" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#resource-allocation">
<span class="md-ellipsis">
      Resource allocation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#publishdir-directive">
<span class="md-ellipsis">
      PublishDir directive
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
<nav aria-label="Resources" class="md-nav md-nav--secondary sidebar_resources">
<label class="md-nav__title">Resources</label>
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="https://nextflow.io/docs/latest/index.html" rel="noopener" target="_blank">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M17.5 14.33c.79 0 1.63.08 2.5.24v1.5c-.62-.16-1.46-.24-2.5-.24-1.9 0-3.39.33-4.5.99v-1.69c1.17-.53 2.67-.8 4.5-.8M13 12.46c1.29-.53 2.79-.79 4.5-.79.79 0 1.63.07 2.5.23v1.5c-.62-.16-1.46-.24-2.5-.24-1.9 0-3.39.34-4.5.99m4.5-3.65c-1.9 0-3.39.32-4.5 1V9.84c1.23-.56 2.73-.84 4.5-.84.79 0 1.63.08 2.5.23v1.55c-.74-.19-1.59-.28-2.5-.28m3.5 8V7c-1.04-.33-2.21-.5-3.5-.5-2.05 0-3.88.5-5.5 1.5v11.5c1.62-1 3.45-1.5 5.5-1.5 1.19 0 2.36.16 3.5.5m-3.5-14c2.35 0 4.19.5 5.5 1.5v14.56c0 .12-.05.24-.16.35-.11.09-.23.17-.34.17-.11 0-.19-.02-.25-.05-1.28-.69-2.87-1.03-4.75-1.03-2.05 0-3.88.5-5.5 1.5-1.34-1-3.17-1.5-5.5-1.5-1.66 0-3.25.36-4.75 1.07-.03.01-.07.01-.12.03-.04.01-.08.02-.13.02-.11 0-.23-.04-.34-.12a.475.475 0 0 1-.16-.35V6c1.34-1 3.18-1.5 5.5-1.5 2.33 0 4.16.5 5.5 1.5 1.34-1 3.17-1.5 5.5-1.5Z"></path>
</svg>
        Nextflow Docs
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://www.nextflow.io/slack-invite.html" rel="noopener" target="_blank">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M6 15a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2h2v2m1 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-5m2-8a2 2 0 0 1-2-2 2 2 0 0 1 2-2 2 2 0 0 1 2 2v2H9m0 1a2 2 0 0 1 2 2 2 2 0 0 1-2 2H4a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5m8 2a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2h-2v-2m-1 0a2 2 0 0 1-2 2 2 2 0 0 1-2-2V5a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5m-2 8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2v-2h2m0-1a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-5Z"></path>
</svg>
        Nextflow Slack
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://nextflow.io/" rel="noopener" target="_blank">
<svg id="Layer_1" version="1.1" viewbox="80 50 350 350" xmlns="http://www.w3.org/2000/svg">
<style type="text/css">
            .st0 {
              fill: "gray";
            }
          </style>
<path class="st0" d="M124.5,171.5c39.4,2.6,71.1,34.3,73.5,73.8h46.1c-2.6-65-54.7-117.2-119.6-119.9V171.5z"></path>
<path class="st0" d="M198.3,255.8c-2.6,39.5-34.3,71.1-73.8,73.5v46.1c65-2.6,117.2-54.7,119.9-119.6H198.3z"></path>
<path class="st0" d="M300.7,245c2.6-39.5,34.3-71.1,73.8-73.5v-46.1c-65,2.6-117.2,54.7-119.9,119.6H300.7z"></path>
<path class="st0" d="M374.5,329.3c-39.4-2.6-71.1-34.3-73.5-73.8h-46.1c2.6,65,54.7,117.2,119.6,119.9V329.3z"></path>
</svg>
        Nextflow Homepage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://seqera.io/" rel="noopener" target="_blank">
<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 28.3.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg id="Layer_1" style="enable-background: new 0 0 500 500" version="1.1" viewbox="80 50 350 350" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
<style type="text/css">
            .st0 {
              clip-path: url(#SVGID_00000006699037935518914080000000086571810102047141_);
            }
            .st1 {
              fill: "gray";
            }
          </style>
<g>
<defs>
<rect height="250" id="SVGID_1_" width="250" x="125" y="125"></rect>
</defs>
<clippath id="SVGID_00000183214694142566821210000012389151436317298101_">
<use style="overflow: visible" xlink:href="#SVGID_1_"></use>
</clippath>
<g style="
                clip-path: url(#SVGID_00000183214694142566821210000012389151436317298101_);
              ">
<path class="st1" d="M375,333l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.8l-0.2-0.9l-0.2-0.8l-0.2-0.8
                      l-0.2-0.8l-0.2-0.8l-0.2-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8
                      l-0.4-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7L365,308l-0.6-0.6l-0.6-0.6l-0.6-0.6l-0.6-0.6L362,305
                      l-0.6-0.6l-0.7-0.6l-0.6-0.5l-1.2,0.7l-0.8,0.5l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.9,0.4l-0.9,0.4l-0.9,0.3l-0.9,0.3
                      l-0.9,0.3l-0.9,0.3l-0.9,0.3l-0.9,0.3l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.1l-0.9,0.1l-0.9,0.1l-0.9,0.1
                      l-0.9,0.1l-0.9,0.1l-0.9,0.1l-0.9,0l-0.9,0h-57.5l59.7,16.4l0.4,0.1l0.4,0.1l0.4,0.1l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2
                      l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.1,0.3l0.1,0.3l0.1,0.4l0.1,0.4
                      l0.1,0.4l0.1,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.3l-0.1,0.4l-0.1,0.3l-0.2,0.3l-0.2,0.3
                      l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.3,0.3l-0.3,0.3l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2
                      l-0.3,0.1l-0.4,0.2l-0.4,0.1l-0.3,0.1l-0.4,0.1l-0.4,0.1l-0.4,0.1l-0.4,0l-0.4,0l-0.4,0H125V375h209.7l0.9,0l0.9,0l0.9,0l0.8-0.1
                      l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.8-0.1l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3
                      l0.8-0.4l0.8-0.4l0.8-0.4l0.8-0.4l0.8-0.4l0.7-0.4l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5
                      l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.4-0.7
                      l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8
                      l0.2-0.8l0.1-0.8l0.1-0.9l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.9l0.1-0.8l0-0.9l0-0.9l0-0.8L375,333z"></path>
<path class="st1" d="M375,260.4l-0.1-0.9l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.8l-0.1-0.8l-0.1-0.8l-0.2-0.8l-0.2-0.8l-0.2-0.8
                      l-0.2-0.8l-0.2-0.8l-0.2-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.7
                      l-0.4-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.2-0.2h0h-89.8l59.7,16.4l0.4,0.1l0.4,0.1l0.4,0.1l0.3,0.2l0.3,0.2l0.3,0.2
                      l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.1,0.4l0.1,0.3
                      l0.1,0.4l0.1,0.4l0.1,0.4l0.1,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.3l-0.1,0.4
                      l-0.2,0.4l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.3,0.3l-0.3,0.3l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2
                      l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.4,0.2l-0.4,0.1l-0.3,0.1l-0.4,0.1l-0.4,0.1l-0.4,0.1l-0.4,0l-0.4,0l-0.4,0h-82.5h-111H125v32.2
                      h122.8h86.9h0.9l0.9,0l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.3
                      l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.4l0.8-0.4l0.2-0.1l0.6-0.3l0.8-0.4l0.8-0.4l0.7-0.4l0.7-0.4l0.7-0.5l0.7-0.5l0.7-0.5
                      l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.5-0.7l0.5-0.7l0.5-0.7
                      l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.4-0.7l0.4-0.7l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.3-0.8
                      l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.1-0.8l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.9l0-0.8l0-0.9l0-0.9
                      L375,260.4z"></path>
<path class="st1" d="M165.3,197.6l-0.9,0l-0.8,0l-0.9,0l-0.9,0.1l-0.8,0.1l-0.9,0.1l-0.8,0.1l-0.8,0.1l-0.8,0.2l-0.8,0.2l-0.8,0.2
                      l-0.8,0.2l-0.8,0.2l-0.8,0.2l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.4l-0.8,0.4l-0.2,0.1l-0.6,0.3l-0.8,0.4
                      l-0.8,0.4l-0.8,0.4l-0.7,0.4l-0.7,0.5l-0.7,0.5L142,205l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6
                      l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.5,0.6l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.4,0.7l-0.5,0.7l-0.4,0.7
                      l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.2,0.8l-0.2,0.8l-0.2,0.8
                      l-0.2,0.8l-0.2,0.8l-0.2,0.8l-0.1,0.9l-0.1,0.9l-0.1,0.8l-0.1,0.9l-0.1,0.9l0,0.9l0,0.9v0.9v0.9l0,0.8l0,0.9l0.1,0.8l0.1,0.8
                      l0.1,0.9l0.1,0.9l0.1,0.8l0.2,0.9l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8
                      l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.7l0.5,0.7l0.4,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.2,0.2h89.8l-59.7-16.4l-0.4-0.1l-0.3-0.1
                      l-0.4-0.1l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3
                      l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4
                      l0-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3
                      l0.3-0.3l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.4-0.2l0.3-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4,0l0.4,0
                      h0.4h82.5h111H375v-32.3H252.2H165.3z"></path>
<path class="st1" d="M165.3,125l-0.9,0l-0.8,0l-0.9,0.1l-0.9,0.1l-0.8,0.1l-0.9,0.1l-0.8,0.1l-0.8,0.1l-0.8,0.2l-0.8,0.2l-0.8,0.2
                      l-0.8,0.2l-0.8,0.2l-0.8,0.2l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.8,0.4
                      l-0.8,0.4l-0.7,0.5l-0.7,0.4l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.6l-0.7,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6
                      l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.4,0.7l-0.5,0.7l-0.4,0.7
                      l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.2,0.8l-0.2,0.8l-0.2,0.8
                      l-0.2,0.8l-0.2,0.8l-0.2,0.8l-0.1,0.9l-0.1,0.8l-0.1,0.9l-0.1,0.8l-0.1,0.9l0,0.9l0,0.9v0.9v0.9l0,0.9l0,0.8l0.1,0.9l0.1,0.9
                      l0.1,0.8l0.1,0.8l0.1,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8
                      l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.7l0.5,0.7l0.4,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.6,0.6l0.6,0.6
                      l0.6,0.6l0.6,0.6l0.6,0.6l0.6,0.6l0.6,0.6l0.7,0.6l0.6,0.5h0l1.1-0.7l0.8-0.5l0.8-0.5l0.8-0.4l0.8-0.4l0.9-0.4l0.9-0.4l0.9-0.4
                      l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.1l0.9-0.1l0.9-0.1l0.9-0.1
                      l0.9-0.1l0.9-0.1l0.9,0l0.9,0l0.9,0h57.5l-59.7-16.4l-0.4-0.1l-0.3-0.1l-0.4-0.1l-0.3-0.1l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2
                      l-0.3-0.2l-0.3-0.2l-0.3-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.1-0.3l-0.1-0.4
                      l-0.1-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.3
                      l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2
                      l0.3-0.2l0.4-0.1l0.3-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4,0l0.4,0l0.4,0H375V125H165.3z"></path>
</g>
</g>
</svg>
        Seqera
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/nextflow-io/training" rel="noopener" target="_blank">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"></path>
</svg>
        Training on GitHub
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/nextflow-io/training/edit/master/docs/archive/basic_training/processes.md" rel="edit" title="Editer cette page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<h1 id="processes"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.</span> Processes<a class="headerlink" href="#processes" title="Permanent link">¶</a></h1>
<p>In Nextflow, a <code>process</code> is the basic computing primitive to execute foreign functions (i.e., custom scripts or tools).</p>
<p>The <code>process</code> definition starts with the keyword <code>process</code>, followed by the process name and finally the process body delimited by curly brackets.</p>
<p>A basic <code>process</code>, only using the <code>script</code> definition block, looks like the following:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="n">process</span><span class="w"> </span><span class="n">SAYHELLO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="s2">    echo 'Hello world!'</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="s2">    """</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The <code>process</code> name is commonly written in upper case by convention.</p>
</div>
<p>However, the process body can contain up to <strong>five</strong> definition blocks:</p>
<ol>
<li><strong>Directives</strong> are initial declarations that define optional settings</li>
<li><strong>Input</strong> defines the expected input channel(s)</li>
<li><strong>Output</strong> defines the expected output channel(s)</li>
<li><strong>When</strong> is an optional clause statement to allow conditional processes</li>
<li><strong>Script</strong> is a string statement that defines the command to be executed by the process' task</li>
</ol>
<p>The full process syntax is defined as follows:</p>
<div class="admonition info">
<p>Click the <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"></path></svg></span> icons in the code for explanations.</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="n">process</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="c1">// (1)!</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="nl">input:</span><span class="w"> </span><span class="c1">// (2)!</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="o">&lt;</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">inputs</span><span class="w"> </span><span class="o">&gt;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="nl">output:</span><span class="w"> </span><span class="c1">// (3)!</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="o">&lt;</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">outputs</span><span class="w"> </span><span class="o">&gt;</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="nl">when:</span><span class="w"> </span><span class="c1">// (4)!</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">    </span><span class="o">&lt;</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">&gt;</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">    </span><span class="o">[</span><span class="n">script</span><span class="o">|</span><span class="n">shell</span><span class="o">|</span><span class="n">exec</span><span class="o">]:</span><span class="w"> </span><span class="c1">// (5)!</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="s2">    &lt; user script to be executed &gt;</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="s2">    """</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Zero, one, or more process directives</li>
<li>Zero, one, or more process inputs</li>
<li>Zero, one, or more process outputs</li>
<li>An optional boolean conditional to trigger the process execution</li>
<li>The command to be executed</li>
</ol>
<h2 id="script"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.1</span> Script<a class="headerlink" href="#script" title="Permanent link">¶</a></h2>
<p>The <code>script</code> block is a string statement that defines the command to be executed by the process.</p>
<p>A process can execute only one <code>script</code> block. It must be the last statement when the process contains <code>input</code> and <code>output</code> declarations.</p>
<p>The <code>script</code> block can be a single or a multi-line string. The latter simplifies the writing of non-trivial scripts composed of multiple commands spanning over multiple lines. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="n">process</span><span class="w"> </span><span class="n">EXAMPLE</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="s2">    echo 'Hello world!\nHola mundo!\nCiao mondo!\nHallo Welt!' &gt; file</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="s2">    cat file | head -n 1 | head -c 5 &gt; chunk_1.txt</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="s2">    gzip -c chunk_1.txt  &gt; chunk_archive.gz</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="s2">    """</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="o">}</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">    </span><span class="n">EXAMPLE</span><span class="o">()</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In the snippet below the directive <code>debug</code> is used to enable the debug mode for the process. This is useful to print the output of the process script in the console.</p>
</div>
<p>By default, the <code>process</code> command is interpreted as a <strong>Bash</strong> script. However, any other scripting language can be used by simply starting the script with the corresponding <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">Shebang</a> declaration. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">process</span><span class="w"> </span><span class="n">PYSTUFF</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="s2">    #!/usr/bin/env python</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="s2">    x = 'Hello'</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="s2">    y = 'world!'</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="s2">    print ("%s - %s" % (x, y))</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="s2">    """</span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="o">}</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="w">    </span><span class="n">PYSTUFF</span><span class="o">()</span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="go">Hello-world</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Multiple programming languages can be used within the same workflow script. However, for large chunks of code it is better to save them into separate files and invoke them from the process script. One can store the specific scripts in the <code>./bin/</code> folder.</p>
</div>
<h3 id="script-parameters"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.1.1</span> Script parameters<a class="headerlink" href="#script-parameters" title="Permanent link">¶</a></h3>
<p>Script parameters (<code>params</code>) can be defined dynamically using variable values. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">params</span><span class="o">.</span><span class="na">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'World'</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="s2">    echo Hello $params.data</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="s2">    """</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="o">}</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">    </span><span class="n">FOO</span><span class="o">()</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="go">Hello World</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>A process script can contain any string format supported by the Groovy programming language. This allows us to use string interpolation as in the script above or multiline strings. Refer to <a href="../groovy#string-interpolation">String interpolation</a> for more information.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Since Nextflow uses the same Bash syntax for variable substitutions in strings, Bash environment variables need to be escaped using the <code>\</code> character. The escaped version will be resolved later, returning the task directory (e.g. work/7f/f285b80022d9f61e82cd7f90436aa4/), while <code>$PWD</code> would show the directory where you're running Nextflow.</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="s2">    echo "The current directory is \$PWD"</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="s2">    """</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="o">}</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">    </span><span class="n">FOO</span><span class="o">()</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Your expected output will look something like this:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="go">The current directory is /workspaces/training/nf-training/work/7a/4b050a6cdef4b6c1333ce29f7059a0</span>
</code></pre></div>
<p>It can be tricky to write a script that uses many Bash variables. One possible alternative is to use a <code>script</code> string delimited by single-quote characters (<code>'</code>).</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">process</span><span class="w"> </span><span class="n">BAR</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">    </span><span class="s1">'''</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="s1">    echo "The current directory is $PWD"</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="s1">    '''</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="o">}</span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">    </span><span class="n">BAR</span><span class="o">()</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Your expected output will look something like this:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="go">The current directory is /workspaces/training/nf-training/work/7a/4b050a6cdef4b6c1333ce29f7059a0</span>
</code></pre></div>
<p>However, using the single quotes (<code>'</code>) will block the usage of Nextflow variables in the command script.</p>
<p>Another alternative is to use a <code>shell</code> statement instead of <code>script</code> and use a different syntax for Nextflow variables, e.g., <code>!{..}</code>. This allows the use of both Nextflow and Bash variables in the same script.</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">params</span><span class="o">.</span><span class="na">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'le monde'</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="n">process</span><span class="w"> </span><span class="n">BAZ</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">    </span><span class="nl">shell:</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">    </span><span class="s1">'''</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="s1">    X='Bonjour'</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="s1">    echo $X !{params.data}</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="s1">    '''</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="o">}</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">    </span><span class="n">BAZ</span><span class="o">()</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="conditional-script"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.1.2</span> Conditional script<a class="headerlink" href="#conditional-script" title="Permanent link">¶</a></h3>
<p>The process script can also be defined in a completely dynamic manner using an <code>if</code> statement or any other expression for evaluating a string value. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span>
<span class="normal"><a href="#__codelineno-12-17">17</a></span>
<span class="normal"><a href="#__codelineno-12-18">18</a></span>
<span class="normal"><a href="#__codelineno-12-19">19</a></span>
<span class="normal"><a href="#__codelineno-12-20">20</a></span>
<span class="normal"><a href="#__codelineno-12-21">21</a></span>
<span class="normal"><a href="#__codelineno-12-22">22</a></span>
<span class="normal"><a href="#__codelineno-12-23">23</a></span>
<span class="normal"><a href="#__codelineno-12-24">24</a></span>
<span class="normal"><a href="#__codelineno-12-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">params</span><span class="o">.</span><span class="na">compress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'gzip'</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="n">params</span><span class="o">.</span><span class="na">file2compress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"$projectDir/data/ggal/transcriptome.fa"</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">file</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">compress</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'gzip'</span><span class="o">)</span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">        </span><span class="s2">"""</span>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="s2">        echo "gzip -c $file &gt; ${file}.gz"</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="s2">        """</span>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">compress</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'bzip2'</span><span class="o">)</span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="w">        </span><span class="s2">"""</span>
<a id="__codelineno-12-17" name="__codelineno-12-17"></a><span class="s2">        echo "bzip2 -c $file &gt; ${file}.bz2"</span>
<a id="__codelineno-12-18" name="__codelineno-12-18"></a><span class="s2">        """</span>
<a id="__codelineno-12-19" name="__codelineno-12-19"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-12-20" name="__codelineno-12-20"></a><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s2">"Unknown compressor $params.compress"</span><span class="o">)</span>
<a id="__codelineno-12-21" name="__codelineno-12-21"></a><span class="o">}</span>
<a id="__codelineno-12-22" name="__codelineno-12-22"></a>
<a id="__codelineno-12-23" name="__codelineno-12-23"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-12-24" name="__codelineno-12-24"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">file2compress</span><span class="o">)</span>
<a id="__codelineno-12-25" name="__codelineno-12-25"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Execute this script using the command line to choose <code>bzip2</code> compression.</p>
<details class="solution">
<summary>Solution</summary>
<p>Execute the following command:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>snippet.nf<span class="w"> </span>--compress<span class="w"> </span>bzip2
</code></pre></div>
<p>The output will look like this:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="go">bzip2 -c transcriptome.fa &gt; transcriptome.fa.bz2</span>
</code></pre></div>
</details>
</div>
<div class="admonition cboard-list-2">
<p class="admonition-title">Summary</p>
<p>In this step you have learned:</p>
<ol>
<li>How to use the <code>script</code> declaration to define the command to be executed by the process</li>
<li>How to use the <code>params</code> variable to define dynamic script parameters</li>
<li>How to use the <code>shell</code> declaration to define the command to be executed by the process</li>
<li>How to use the <code>if</code> statement to define a conditional script</li>
</ol>
</div>
<h2 id="inputs"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.2</span> Inputs<a class="headerlink" href="#inputs" title="Permanent link">¶</a></h2>
<p>Nextflow process instances (tasks) are isolated from each other but can communicate between themselves by sending values through channels.</p>
<p>Inputs implicitly determine the dependencies and the parallel execution of the process. The process execution is fired each time <em>new</em> data is ready to be consumed from the input channel:</p>
<figure class="excalidraw">
</figure>
<p>The <code>input</code> block defines the names and qualifiers of variables that refer to channel elements directed at the process. You can only define one <code>input</code> block at a time, and it must contain one or more input declarations.</p>
<p>The <code>input</code> block follows the syntax shown below:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="nl">input:</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="o">&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">qualifier</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">name</span><span class="o">&gt;</span>
</code></pre></div></td></tr></table></div>
<p>There are <a href="https://www.nextflow.io/docs/latest/process.html#inputs">several input qualifiers</a> that can be used to define the input declaration. The most common are outlined in detail below.</p>
<h3 id="input-values"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.2.1</span> Input values<a class="headerlink" href="#input-values" title="Permanent link">¶</a></h3>
<p>The <code>val</code> qualifier allows you to receive data of any type as input. It can be accessed in the process script by using the specified input name. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span>
<span class="normal"><a href="#__codelineno-16-15">15</a></span>
<span class="normal"><a href="#__codelineno-16-16">16</a></span>
<span class="normal"><a href="#__codelineno-16-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">)</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="n">process</span><span class="w"> </span><span class="n">BASICEXAMPLE</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">x</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-16-11" name="__codelineno-16-11"></a><span class="s2">    echo process job $x</span>
<a id="__codelineno-16-12" name="__codelineno-16-12"></a><span class="s2">    """</span>
<a id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="o">}</span>
<a id="__codelineno-16-14" name="__codelineno-16-14"></a>
<a id="__codelineno-16-15" name="__codelineno-16-15"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-16-16" name="__codelineno-16-16"></a><span class="w">    </span><span class="n">BASICEXAMPLE</span><span class="o">(</span><span class="n">num</span><span class="o">)</span>
<a id="__codelineno-16-17" name="__codelineno-16-17"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>In the above example the process is executed three times, each time a value is received from the channel <code>num</code> it is used by the script. Thus, it results in an output similar to the one shown below:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="go">process job 1</span>
<a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="go">process job 2</span>
<a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="go">process job 3</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The channel guarantees that items are delivered in the same order as they have been sent - but - since the process is executed in a parallel manner, there is no guarantee that they are processed in the same order as they are received.</p>
</div>
<h3 id="input-files"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.2.2</span> Input files<a class="headerlink" href="#input-files" title="Permanent link">¶</a></h3>
<p>The <code>path</code> qualifier allows the handling of file values in the process execution context. This means that Nextflow will stage it in the process execution directory, and it can be accessed by the script using the name specified in the input declaration. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-18-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-18-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-18-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-18-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-18-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-18-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-18-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-18-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-18-10">10</a></span>
<span class="normal"><a href="#__codelineno-18-11">11</a></span>
<span class="normal"><a href="#__codelineno-18-12">12</a></span>
<span class="normal"><a href="#__codelineno-18-13">13</a></span>
<span class="normal"><a href="#__codelineno-18-14">14</a></span>
<span class="normal"><a href="#__codelineno-18-15">15</a></span>
<span class="normal"><a href="#__codelineno-18-16">16</a></span>
<span class="normal"><a href="#__codelineno-18-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="n">reads</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s1">'data/ggal/*.fq'</span><span class="o">)</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s1">'sample.fastq'</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-18-11" name="__codelineno-18-11"></a><span class="s2">    ls sample.fastq</span>
<a id="__codelineno-18-12" name="__codelineno-18-12"></a><span class="s2">    """</span>
<a id="__codelineno-18-13" name="__codelineno-18-13"></a><span class="o">}</span>
<a id="__codelineno-18-14" name="__codelineno-18-14"></a>
<a id="__codelineno-18-15" name="__codelineno-18-15"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-18-16" name="__codelineno-18-16"></a><span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads</span><span class="o">)</span>
<a id="__codelineno-18-17" name="__codelineno-18-17"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>In this case, the process is executed six times and will print the name of the file <code>sample.fastq</code> six times as this is the name of the file in the input declaration and despite the input file name being different in each execution (e.g., <code>lung_1.fq</code>).</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="go">sample.fastq</span>
<a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="go">sample.fastq</span>
<a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="go">sample.fastq</span>
<a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="go">sample.fastq</span>
<a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="go">sample.fastq</span>
<a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="go">sample.fastq</span>
</code></pre></div>
<p>The input file name can also be defined using a variable reference as shown below:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span>
<span class="normal"><a href="#__codelineno-20-11">11</a></span>
<span class="normal"><a href="#__codelineno-20-12">12</a></span>
<span class="normal"><a href="#__codelineno-20-13">13</a></span>
<span class="normal"><a href="#__codelineno-20-14">14</a></span>
<span class="normal"><a href="#__codelineno-20-15">15</a></span>
<span class="normal"><a href="#__codelineno-20-16">16</a></span>
<span class="normal"><a href="#__codelineno-20-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="n">reads</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s1">'data/ggal/*.fq'</span><span class="o">)</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">sample</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-20-11" name="__codelineno-20-11"></a><span class="s2">    ls  $sample</span>
<a id="__codelineno-20-12" name="__codelineno-20-12"></a><span class="s2">    """</span>
<a id="__codelineno-20-13" name="__codelineno-20-13"></a><span class="o">}</span>
<a id="__codelineno-20-14" name="__codelineno-20-14"></a>
<a id="__codelineno-20-15" name="__codelineno-20-15"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-20-16" name="__codelineno-20-16"></a><span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads</span><span class="o">)</span>
<a id="__codelineno-20-17" name="__codelineno-20-17"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>In this case, the process is executed six times and will print the name of the variable input file six times (e.g., <code>lung_1.fq</code>).</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="go">lung_1.fq</span>
<a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="go">gut_2.fq</span>
<a href="#__codelineno-21-3" id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="go">liver_2.fq</span>
<a href="#__codelineno-21-4" id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="go">lung_2.fq</span>
<a href="#__codelineno-21-5" id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="go">liver_1.fq</span>
<a href="#__codelineno-21-6" id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="go">gut_1.fq</span>
</code></pre></div>
<p>The same syntax is also able to handle more than one input file in the same execution and only requires changing the channel composition using an operator (e.g., <code>collect</code>).</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-22-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-22-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-22-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-22-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-22-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-22-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-22-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-22-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-22-10">10</a></span>
<span class="normal"><a href="#__codelineno-22-11">11</a></span>
<span class="normal"><a href="#__codelineno-22-12">12</a></span>
<span class="normal"><a href="#__codelineno-22-13">13</a></span>
<span class="normal"><a href="#__codelineno-22-14">14</a></span>
<span class="normal"><a href="#__codelineno-22-15">15</a></span>
<span class="normal"><a href="#__codelineno-22-16">16</a></span>
<span class="normal"><a href="#__codelineno-22-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="n">reads</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s1">'data/ggal/*.fq'</span><span class="o">)</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">sample</span>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a><span class="s2">    ls $sample</span>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="s2">    """</span>
<a id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="o">}</span>
<a id="__codelineno-22-14" name="__codelineno-22-14"></a>
<a id="__codelineno-22-15" name="__codelineno-22-15"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-22-16" name="__codelineno-22-16"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads</span><span class="o">.</span><span class="na">collect</span><span class="o">())</span>
<a id="__codelineno-22-17" name="__codelineno-22-17"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Note that while the output looks the same, this process is only executed once.</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="go">lung_1.fq</span>
<a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="go">gut_2.fq</span>
<a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="go">liver_2.fq</span>
<a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="go">lung_2.fq</span>
<a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="go">liver_1.fq</span>
<a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="go">gut_1.fq</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In the past, the <code>file</code> qualifier was used for files, but the <code>path</code> qualifier should be preferred over file to handle process input files when using Nextflow 19.10.0 or later. When a process declares an input file, the corresponding channel elements must be <strong>file</strong> objects created with the file helper function from the file specific channel factories (e.g., <code>Channel.fromPath</code> or <code>Channel.fromFilePairs</code>).</p>
</div>
<h3 id="combine-input-channels"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.2.3</span> Combine input channels<a class="headerlink" href="#combine-input-channels" title="Permanent link">¶</a></h3>
<p>A key feature of processes is the ability to handle inputs from multiple channels. However, it’s important to understand how channel contents and their semantics affect the execution of a process.</p>
<p>Consider the following example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-24-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-24-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-24-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-24-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-24-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-24-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-24-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-24-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-24-10">10</a></span>
<span class="normal"><a href="#__codelineno-24-11">11</a></span>
<span class="normal"><a href="#__codelineno-24-12">12</a></span>
<span class="normal"><a href="#__codelineno-24-13">13</a></span>
<span class="normal"><a href="#__codelineno-24-14">14</a></span>
<span class="normal"><a href="#__codelineno-24-15">15</a></span>
<span class="normal"><a href="#__codelineno-24-16">16</a></span>
<span class="normal"><a href="#__codelineno-24-17">17</a></span>
<span class="normal"><a href="#__codelineno-24-18">18</a></span>
<span class="normal"><a href="#__codelineno-24-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="n">ch1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">)</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="n">ch2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s1">'a'</span><span class="o">,</span><span class="w"> </span><span class="s1">'b'</span><span class="o">,</span><span class="w"> </span><span class="s1">'c'</span><span class="o">)</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-24-8" name="__codelineno-24-8"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">x</span>
<a id="__codelineno-24-9" name="__codelineno-24-9"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">y</span>
<a id="__codelineno-24-10" name="__codelineno-24-10"></a>
<a id="__codelineno-24-11" name="__codelineno-24-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-24-12" name="__codelineno-24-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-24-13" name="__codelineno-24-13"></a><span class="s2">    echo $x and $y</span>
<a id="__codelineno-24-14" name="__codelineno-24-14"></a><span class="s2">    """</span>
<a id="__codelineno-24-15" name="__codelineno-24-15"></a><span class="o">}</span>
<a id="__codelineno-24-16" name="__codelineno-24-16"></a>
<a id="__codelineno-24-17" name="__codelineno-24-17"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-24-18" name="__codelineno-24-18"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">ch1</span><span class="o">,</span><span class="w"> </span><span class="n">ch2</span><span class="o">)</span>
<a id="__codelineno-24-19" name="__codelineno-24-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Both channels emit three values, therefore the process is executed three times, each time with a different pair:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-25-1" id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="go">1 and a</span>
<a href="#__codelineno-25-2" id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="go">3 and c</span>
<a href="#__codelineno-25-3" id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="go">2 and b</span>
</code></pre></div>
<p>The process waits until there’s a complete input configuration, i.e., it receives an input value from all the channels declared as input.</p>
<p>When this condition is verified, it consumes the input values coming from the respective channels, spawns a task execution, then repeats the same logic until one or more channels have no more content.</p>
<p>This means channel values are consumed serially one after another and the first empty channel causes the process execution to stop, even if there are other values in other channels.</p>
<p>What happens when channels do not have the same cardinality (i.e., they emit a different number of elements)?</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-26-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-26-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-26-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-26-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-26-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-26-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-26-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-26-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-26-10">10</a></span>
<span class="normal"><a href="#__codelineno-26-11">11</a></span>
<span class="normal"><a href="#__codelineno-26-12">12</a></span>
<span class="normal"><a href="#__codelineno-26-13">13</a></span>
<span class="normal"><a href="#__codelineno-26-14">14</a></span>
<span class="normal"><a href="#__codelineno-26-15">15</a></span>
<span class="normal"><a href="#__codelineno-26-16">16</a></span>
<span class="normal"><a href="#__codelineno-26-17">17</a></span>
<span class="normal"><a href="#__codelineno-26-18">18</a></span>
<span class="normal"><a href="#__codelineno-26-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="n">ch1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">)</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="n">ch2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s1">'a'</span><span class="o">)</span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-26-8" name="__codelineno-26-8"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">x</span>
<a id="__codelineno-26-9" name="__codelineno-26-9"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">y</span>
<a id="__codelineno-26-10" name="__codelineno-26-10"></a>
<a id="__codelineno-26-11" name="__codelineno-26-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-26-12" name="__codelineno-26-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-26-13" name="__codelineno-26-13"></a><span class="s2">    echo $x and $y</span>
<a id="__codelineno-26-14" name="__codelineno-26-14"></a><span class="s2">    """</span>
<a id="__codelineno-26-15" name="__codelineno-26-15"></a><span class="o">}</span>
<a id="__codelineno-26-16" name="__codelineno-26-16"></a>
<a id="__codelineno-26-17" name="__codelineno-26-17"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-26-18" name="__codelineno-26-18"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">ch1</span><span class="o">,</span><span class="w"> </span><span class="n">ch2</span><span class="o">)</span>
<a id="__codelineno-26-19" name="__codelineno-26-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>In the above example, the process is only executed once because the process stops when a channel has no more data to be processed.</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-27-1" id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="go">1 and a</span>
</code></pre></div>
<p>However, replacing <code>ch2</code> with a <code>value</code> channel will cause the process to be executed three times, each time with the same value of <code>a</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-28-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-28-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-28-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-28-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-28-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-28-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-28-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-28-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-28-10">10</a></span>
<span class="normal"><a href="#__codelineno-28-11">11</a></span>
<span class="normal"><a href="#__codelineno-28-12">12</a></span>
<span class="normal"><a href="#__codelineno-28-13">13</a></span>
<span class="normal"><a href="#__codelineno-28-14">14</a></span>
<span class="normal"><a href="#__codelineno-28-15">15</a></span>
<span class="normal"><a href="#__codelineno-28-16">16</a></span>
<span class="normal"><a href="#__codelineno-28-17">17</a></span>
<span class="normal"><a href="#__codelineno-28-18">18</a></span>
<span class="normal"><a href="#__codelineno-28-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="n">ch1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">)</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="n">ch2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="s1">'a'</span><span class="o">)</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-28-6" name="__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-28-8" name="__codelineno-28-8"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">x</span>
<a id="__codelineno-28-9" name="__codelineno-28-9"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">y</span>
<a id="__codelineno-28-10" name="__codelineno-28-10"></a>
<a id="__codelineno-28-11" name="__codelineno-28-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-28-12" name="__codelineno-28-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-28-13" name="__codelineno-28-13"></a><span class="s2">    echo $x and $y</span>
<a id="__codelineno-28-14" name="__codelineno-28-14"></a><span class="s2">    """</span>
<a id="__codelineno-28-15" name="__codelineno-28-15"></a><span class="o">}</span>
<a id="__codelineno-28-16" name="__codelineno-28-16"></a>
<a id="__codelineno-28-17" name="__codelineno-28-17"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-28-18" name="__codelineno-28-18"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">ch1</span><span class="o">,</span><span class="w"> </span><span class="n">ch2</span><span class="o">)</span>
<a id="__codelineno-28-19" name="__codelineno-28-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><span class="filename">Script output</span><pre><span></span><code><a href="#__codelineno-29-1" id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="go">1 and a</span>
<a href="#__codelineno-29-2" id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="go">2 and a</span>
<a href="#__codelineno-29-3" id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="go">3 and a</span>
</code></pre></div>
<p>As <code>ch2</code> is now a <em>value</em> channel, it can be consumed multiple times and does not affect process termination.</p>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Write a process that is executed for each read file matching the pattern <code>data/ggal/*_1.fq</code> and use the same <code>data/ggal/transcriptome.fa</code> in each execution.</p>
<details class="solution">
<summary>Solution</summary>
<p>One possible solution is shown below:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span>
<span class="normal"><a href="#__codelineno-30-15">15</a></span>
<span class="normal"><a href="#__codelineno-30-16">16</a></span>
<span class="normal"><a href="#__codelineno-30-17">17</a></span>
<span class="normal"><a href="#__codelineno-30-18">18</a></span>
<span class="normal"><a href="#__codelineno-30-19">19</a></span>
<span class="normal"><a href="#__codelineno-30-20">20</a></span>
<span class="normal"><a href="#__codelineno-30-21">21</a></span>
<span class="normal"><a href="#__codelineno-30-22">22</a></span>
<span class="normal"><a href="#__codelineno-30-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="n">params</span><span class="o">.</span><span class="na">reads</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"$projectDir/data/ggal/*_1.fq"</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="n">params</span><span class="o">.</span><span class="na">transcriptome_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"$projectDir/data/ggal/transcriptome.fa"</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="n">Channel</span>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="w">    </span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">reads</span><span class="o">)</span>
<a id="__codelineno-30-6" name="__codelineno-30-6"></a><span class="w">    </span><span class="o">.</span><span class="na">set</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">read_ch</span><span class="w"> </span><span class="o">}</span>
<a id="__codelineno-30-7" name="__codelineno-30-7"></a>
<a id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="n">process</span><span class="w"> </span><span class="n">COMMAND</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-30-10" name="__codelineno-30-10"></a>
<a id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-30-12" name="__codelineno-30-12"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">reads</span>
<a id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">transcriptome</span>
<a id="__codelineno-30-14" name="__codelineno-30-14"></a>
<a id="__codelineno-30-15" name="__codelineno-30-15"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-30-16" name="__codelineno-30-16"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-30-17" name="__codelineno-30-17"></a><span class="s2">    echo $reads $transcriptome</span>
<a id="__codelineno-30-18" name="__codelineno-30-18"></a><span class="s2">    """</span>
<a id="__codelineno-30-19" name="__codelineno-30-19"></a><span class="o">}</span>
<a id="__codelineno-30-20" name="__codelineno-30-20"></a>
<a id="__codelineno-30-21" name="__codelineno-30-21"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-30-22" name="__codelineno-30-22"></a><span class="w">    </span><span class="n">COMMAND</span><span class="o">(</span><span class="n">read_ch</span><span class="o">,</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">transcriptome_file</span><span class="o">)</span>
<a id="__codelineno-30-23" name="__codelineno-30-23"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>You may also consider using other Channel factories or operators to create your input channels.</p>
</details>
</div>
<h3 id="input-repeaters"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.2.4</span> Input repeaters<a class="headerlink" href="#input-repeaters" title="Permanent link">¶</a></h3>
<p>The <code>each</code> qualifier allows you to repeat the execution of a process for each item in a collection every time new data is received. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-31-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-31-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-31-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-31-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-31-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-31-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-31-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-31-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-31-10">10</a></span>
<span class="normal"><a href="#__codelineno-31-11">11</a></span>
<span class="normal"><a href="#__codelineno-31-12">12</a></span>
<span class="normal"><a href="#__codelineno-31-13">13</a></span>
<span class="normal"><a href="#__codelineno-31-14">14</a></span>
<span class="normal"><a href="#__codelineno-31-15">15</a></span>
<span class="normal"><a href="#__codelineno-31-16">16</a></span>
<span class="normal"><a href="#__codelineno-31-17">17</a></span>
<span class="normal"><a href="#__codelineno-31-18">18</a></span>
<span class="normal"><a href="#__codelineno-31-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="n">sequences</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s2">"$projectDir/data/ggal/*_1.fq"</span><span class="o">)</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="n">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s1">'regular'</span><span class="o">,</span><span class="w"> </span><span class="s1">'espresso'</span><span class="o">]</span>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="n">process</span><span class="w"> </span><span class="n">ALIGNSEQUENCES</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">seq</span>
<a id="__codelineno-31-9" name="__codelineno-31-9"></a><span class="w">    </span><span class="n">each</span><span class="w"> </span><span class="n">mode</span>
<a id="__codelineno-31-10" name="__codelineno-31-10"></a>
<a id="__codelineno-31-11" name="__codelineno-31-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-31-12" name="__codelineno-31-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-31-13" name="__codelineno-31-13"></a><span class="s2">    echo t_coffee -in $seq -mode $mode</span>
<a id="__codelineno-31-14" name="__codelineno-31-14"></a><span class="s2">    """</span>
<a id="__codelineno-31-15" name="__codelineno-31-15"></a><span class="o">}</span>
<a id="__codelineno-31-16" name="__codelineno-31-16"></a>
<a id="__codelineno-31-17" name="__codelineno-31-17"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-31-18" name="__codelineno-31-18"></a><span class="w">    </span><span class="n">ALIGNSEQUENCES</span><span class="o">(</span><span class="n">sequences</span><span class="o">,</span><span class="w"> </span><span class="n">methods</span><span class="o">)</span>
<a id="__codelineno-31-19" name="__codelineno-31-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-32-1" id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="go">t_coffee -in gut_1.fq -mode regular</span>
<a href="#__codelineno-32-2" id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="go">t_coffee -in lung_1.fq -mode espresso</span>
<a href="#__codelineno-32-3" id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="go">t_coffee -in liver_1.fq -mode regular</span>
<a href="#__codelineno-32-4" id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="go">t_coffee -in gut_1.fq -mode espresso</span>
<a href="#__codelineno-32-5" id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="go">t_coffee -in lung_1.fq -mode regular</span>
<a href="#__codelineno-32-6" id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="go">t_coffee -in liver_1.fq -mode espresso</span>
</code></pre></div>
<p>In the above example, every time a file of sequences is received as an input by the process, it executes three tasks, each running a different alignment method set as a <code>mode</code> variable. This is useful when you need to repeat the same task for a given set of parameters.</p>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Extend the previous example so a task is executed for an additional type of coffee.</p>
<details class="solution">
<summary>Solution</summary>
<p>Modify the methods list and add another coffee type:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span>
<span class="normal"><a href="#__codelineno-33-12">12</a></span>
<span class="normal"><a href="#__codelineno-33-13">13</a></span>
<span class="normal"><a href="#__codelineno-33-14">14</a></span>
<span class="normal"><a href="#__codelineno-33-15">15</a></span>
<span class="normal"><a href="#__codelineno-33-16">16</a></span>
<span class="normal"><a href="#__codelineno-33-17">17</a></span>
<span class="normal"><a href="#__codelineno-33-18">18</a></span>
<span class="normal"><a href="#__codelineno-33-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="n">sequences</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s2">"$projectDir/data/ggal/*_1.fq"</span><span class="o">)</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="n">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s1">'regular'</span><span class="o">,</span><span class="w"> </span><span class="s1">'espresso'</span><span class="o">,</span><span class="w"> </span><span class="s1">'cappuccino'</span><span class="o">]</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="n">process</span><span class="w"> </span><span class="n">ALIGNSEQUENCES</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">seq</span>
<a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="w">    </span><span class="n">each</span><span class="w"> </span><span class="n">mode</span>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-33-12" name="__codelineno-33-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-33-13" name="__codelineno-33-13"></a><span class="s2">    echo t_coffee -in $seq -mode $mode</span>
<a id="__codelineno-33-14" name="__codelineno-33-14"></a><span class="s2">    """</span>
<a id="__codelineno-33-15" name="__codelineno-33-15"></a><span class="o">}</span>
<a id="__codelineno-33-16" name="__codelineno-33-16"></a>
<a id="__codelineno-33-17" name="__codelineno-33-17"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-33-18" name="__codelineno-33-18"></a><span class="w">    </span><span class="n">ALIGNSEQUENCES</span><span class="o">(</span><span class="n">sequences</span><span class="o">,</span><span class="w"> </span><span class="n">methods</span><span class="o">)</span>
<a id="__codelineno-33-19" name="__codelineno-33-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Your output will look something like this:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-34-1" id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="go">t_coffee -in gut_1.fq -mode regular</span>
<a href="#__codelineno-34-2" id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="go">t_coffee -in lung_1.fq -mode regular</span>
<a href="#__codelineno-34-3" id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="go">t_coffee -in gut_1.fq -mode espresso</span>
<a href="#__codelineno-34-4" id="__codelineno-34-4" name="__codelineno-34-4"></a><span class="go">t_coffee -in liver_1.fq -mode cappuccino</span>
<a href="#__codelineno-34-5" id="__codelineno-34-5" name="__codelineno-34-5"></a><span class="go">t_coffee -in liver_1.fq -mode espresso</span>
<a href="#__codelineno-34-6" id="__codelineno-34-6" name="__codelineno-34-6"></a><span class="go">t_coffee -in lung_1.fq -mode espresso</span>
<a href="#__codelineno-34-7" id="__codelineno-34-7" name="__codelineno-34-7"></a><span class="go">t_coffee -in liver_1.fq -mode regular</span>
<a href="#__codelineno-34-8" id="__codelineno-34-8" name="__codelineno-34-8"></a><span class="go">t_coffee -in gut_1.fq -mode cappuccino</span>
<a href="#__codelineno-34-9" id="__codelineno-34-9" name="__codelineno-34-9"></a><span class="go">t_coffee -in lung_1.fq -mode cappuccino</span>
</code></pre></div>
</details>
</div>
<div class="admonition cboard-list-2">
<p class="admonition-title">Summary</p>
<p>In this step you have learned:</p>
<ol>
<li>How to use the <code>val</code> qualifier to define the input channel(s) of a process</li>
<li>How to use the <code>path</code> qualifier to define the input file(s) of a process</li>
<li>How to use the <code>each</code> qualifier to repeat the execution of a process for each item in a collection</li>
</ol>
</div>
<h2 id="outputs"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.3</span> Outputs<a class="headerlink" href="#outputs" title="Permanent link">¶</a></h2>
<p>The <em>output</em> declaration block defines the channels used by the process to send out the results produced.</p>
<p>Only one output block, that can contain one or more output declaration, can be defined. The output block follows the syntax shown below:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="nl">output:</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="o">&lt;</span><span class="n">output</span><span class="w"> </span><span class="n">qualifier</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">output</span><span class="w"> </span><span class="n">name</span><span class="o">&gt;,</span><span class="w"> </span><span class="nl">emit:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">output</span><span class="w"> </span><span class="n">channel</span><span class="o">&gt;</span>
</code></pre></div></td></tr></table></div>
<h3 id="output-values"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.3.1</span> Output values<a class="headerlink" href="#output-values" title="Permanent link">¶</a></h3>
<p>The <code>val</code> qualifier specifies a defined <em>value</em> in the script context. Values are frequently defined in the <code>input</code> and/or <code>output</code> declaration blocks, as shown in the following example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-36-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-36-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-36-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-36-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-36-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-36-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-36-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-36-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-36-10">10</a></span>
<span class="normal"><a href="#__codelineno-36-11">11</a></span>
<span class="normal"><a href="#__codelineno-36-12">12</a></span>
<span class="normal"><a href="#__codelineno-36-13">13</a></span>
<span class="normal"><a href="#__codelineno-36-14">14</a></span>
<span class="normal"><a href="#__codelineno-36-15">15</a></span>
<span class="normal"><a href="#__codelineno-36-16">16</a></span>
<span class="normal"><a href="#__codelineno-36-17">17</a></span>
<span class="normal"><a href="#__codelineno-36-18">18</a></span>
<span class="normal"><a href="#__codelineno-36-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="n">greeting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hello world!"</span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-36-5" name="__codelineno-36-5"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">x</span>
<a id="__codelineno-36-6" name="__codelineno-36-6"></a>
<a id="__codelineno-36-7" name="__codelineno-36-7"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-36-8" name="__codelineno-36-8"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">x</span>
<a id="__codelineno-36-9" name="__codelineno-36-9"></a>
<a id="__codelineno-36-10" name="__codelineno-36-10"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-36-11" name="__codelineno-36-11"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-36-12" name="__codelineno-36-12"></a><span class="s2">    echo $x &gt; file</span>
<a id="__codelineno-36-13" name="__codelineno-36-13"></a><span class="s2">    """</span>
<a id="__codelineno-36-14" name="__codelineno-36-14"></a><span class="o">}</span>
<a id="__codelineno-36-15" name="__codelineno-36-15"></a>
<a id="__codelineno-36-16" name="__codelineno-36-16"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-36-17" name="__codelineno-36-17"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">greeting</span><span class="o">))</span>
<a id="__codelineno-36-18" name="__codelineno-36-18"></a><span class="w">        </span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-36-19" name="__codelineno-36-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="output-files"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.3.2</span> Output files<a class="headerlink" href="#output-files" title="Permanent link">¶</a></h3>
<p>The <code>path</code> qualifier specifies one or more files produced by the process into the specified channel as an output.</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-37-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-37-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-37-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-37-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-37-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-37-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-37-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-37-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-37-10">10</a></span>
<span class="normal"><a href="#__codelineno-37-11">11</a></span>
<span class="normal"><a href="#__codelineno-37-12">12</a></span>
<span class="normal"><a href="#__codelineno-37-13">13</a></span>
<span class="normal"><a href="#__codelineno-37-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="n">process</span><span class="w"> </span><span class="n">RANDOMNUM</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s1">'result.txt'</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="s2">    echo \$RANDOM &gt; result.txt</span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="s2">    """</span>
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><span class="o">}</span>
<a id="__codelineno-37-10" name="__codelineno-37-10"></a>
<a id="__codelineno-37-11" name="__codelineno-37-11"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-37-12" name="__codelineno-37-12"></a><span class="w">    </span><span class="n">receiver_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RANDOMNUM</span><span class="o">()</span>
<a id="__codelineno-37-13" name="__codelineno-37-13"></a><span class="w">    </span><span class="n">receiver_ch</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-37-14" name="__codelineno-37-14"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>In the above example the process <code>RANDOMNUM</code> creates a file named <code>result.txt</code> containing a random number.</p>
<p>Since a file parameter using the same name is declared in the output block, the file is sent over the <code>receiver_ch</code> channel when the task is complete. A downstream <code>process</code> declaring the same channel as <em>input</em> will be able to receive it.</p>
<h3 id="multiple-output-files"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.3.3</span> Multiple output files<a class="headerlink" href="#multiple-output-files" title="Permanent link">¶</a></h3>
<p>When an output file name contains a wildcard character (<code>*</code> or <code>?</code>) it is interpreted as a <a href="http://docs.oracle.com/javase/tutorial/essential/io/fileOps.html#glob">glob</a> path matcher. This allows us to <em>capture</em> multiple files into a list object and output them as a sole emission. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-38-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-38-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-38-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-38-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-38-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-38-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-38-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-38-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-38-10">10</a></span>
<span class="normal"><a href="#__codelineno-38-11">11</a></span>
<span class="normal"><a href="#__codelineno-38-12">12</a></span>
<span class="normal"><a href="#__codelineno-38-13">13</a></span>
<span class="normal"><a href="#__codelineno-38-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="n">process</span><span class="w"> </span><span class="n">SPLITLETTERS</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s1">'chunk_*'</span>
<a id="__codelineno-38-4" name="__codelineno-38-4"></a>
<a id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-38-7" name="__codelineno-38-7"></a><span class="s2">    printf 'Hola' | split -b 1 - chunk_</span>
<a id="__codelineno-38-8" name="__codelineno-38-8"></a><span class="s2">    """</span>
<a id="__codelineno-38-9" name="__codelineno-38-9"></a><span class="o">}</span>
<a id="__codelineno-38-10" name="__codelineno-38-10"></a>
<a id="__codelineno-38-11" name="__codelineno-38-11"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-38-12" name="__codelineno-38-12"></a><span class="w">    </span><span class="n">letters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPLITLETTERS</span><span class="o">()</span>
<a id="__codelineno-38-13" name="__codelineno-38-13"></a><span class="w">    </span><span class="n">letters</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-38-14" name="__codelineno-38-14"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Prints the following:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-39-1" id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="go">[/workspaces/training/nf-training/work/ca/baf931d379aa7fa37c570617cb06d1/chunk_aa, /workspaces/training/nf-training/work/ca/baf931d379aa7fa37c570617cb06d1/chunk_ab, /workspaces/training/nf-training/work/ca/baf931d379aa7fa37c570617cb06d1/chunk_ac, /workspaces/training/nf-training/work/ca/baf931d379aa7fa37c570617cb06d1/chunk_ad]</span>
</code></pre></div>
<p>Some caveats on glob pattern behavior:</p>
<ul>
<li>Input files are not included in the list of possible matches</li>
<li>Glob pattern matches both files and directory paths</li>
<li>When a two asterisks pattern <code>**</code> is used to recourse across directories, only file paths are matched i.e., directories are not included in the result list.</li>
</ul>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Add the <code>flatMap</code> operator and see out the output changes. The documentation for the <code>flatMap</code> operator is available at <a href="https://www.nextflow.io/docs/latest/operator.html#flatmap">this link</a>.</p>
<details class="solution">
<summary>Solution</summary>
<p>Add the <code>flatMap</code> operator to the <code>letters</code> channel.</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-40-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-40-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-40-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-40-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-40-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-40-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-40-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-40-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-40-10">10</a></span>
<span class="normal"><a href="#__codelineno-40-11">11</a></span>
<span class="normal"><a href="#__codelineno-40-12">12</a></span>
<span class="normal"><a href="#__codelineno-40-13">13</a></span>
<span class="normal"><a href="#__codelineno-40-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="n">process</span><span class="w"> </span><span class="n">SPLITLETTERS</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s1">'chunk_*'</span>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="s2">    printf 'Hola' | split -b 1 - chunk_</span>
<a id="__codelineno-40-8" name="__codelineno-40-8"></a><span class="s2">    """</span>
<a id="__codelineno-40-9" name="__codelineno-40-9"></a><span class="o">}</span>
<a id="__codelineno-40-10" name="__codelineno-40-10"></a>
<a id="__codelineno-40-11" name="__codelineno-40-11"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-40-12" name="__codelineno-40-12"></a><span class="w">    </span><span class="n">letters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPLITLETTERS</span><span class="o">()</span>
<a id="__codelineno-40-13" name="__codelineno-40-13"></a><span class="w">    </span><span class="n">letters</span><span class="o">.</span><span class="na">flatMap</span><span class="o">().</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-40-14" name="__codelineno-40-14"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Your output will look something like this:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-41-1" id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="go">/workspaces/training/nf-training/work/54/9d79f9149f15085e00dde2d8ead150/chunk_aa</span>
<a href="#__codelineno-41-2" id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="go">/workspaces/training/nf-training/work/54/9d79f9149f15085e00dde2d8ead150/chunk_ab</span>
<a href="#__codelineno-41-3" id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="go">/workspaces/training/nf-training/work/54/9d79f9149f15085e00dde2d8ead150/chunk_ac</span>
<a href="#__codelineno-41-4" id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="go">/workspaces/training/nf-training/work/54/9d79f9149f15085e00dde2d8ead150/chunk_ad</span>
</code></pre></div>
</details>
</div>
<h3 id="dynamic-output-file-names"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.3.4</span> Dynamic output file names<a class="headerlink" href="#dynamic-output-file-names" title="Permanent link">¶</a></h3>
<p>When an output file name needs to be expressed dynamically, it is possible to define it using a dynamic string that references values defined in the input declaration block or in the script global context. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-42-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-42-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-42-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-42-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-42-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-42-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-42-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-42-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-42-10">10</a></span>
<span class="normal"><a href="#__codelineno-42-11">11</a></span>
<span class="normal"><a href="#__codelineno-42-12">12</a></span>
<span class="normal"><a href="#__codelineno-42-13">13</a></span>
<span class="normal"><a href="#__codelineno-42-14">14</a></span>
<span class="normal"><a href="#__codelineno-42-15">15</a></span>
<span class="normal"><a href="#__codelineno-42-16">16</a></span>
<span class="normal"><a href="#__codelineno-42-17">17</a></span>
<span class="normal"><a href="#__codelineno-42-18">18</a></span>
<span class="normal"><a href="#__codelineno-42-19">19</a></span>
<span class="normal"><a href="#__codelineno-42-20">20</a></span>
<span class="normal"><a href="#__codelineno-42-21">21</a></span>
<span class="normal"><a href="#__codelineno-42-22">22</a></span>
<span class="normal"><a href="#__codelineno-42-23">23</a></span>
<span class="normal"><a href="#__codelineno-42-24">24</a></span>
<span class="normal"><a href="#__codelineno-42-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="n">species</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s1">'cat'</span><span class="o">,</span><span class="w"> </span><span class="s1">'dog'</span><span class="o">,</span><span class="w"> </span><span class="s1">'sloth'</span><span class="o">]</span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="n">sequences</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s1">'AGATAG'</span><span class="o">,</span><span class="w"> </span><span class="s1">'ATGCTCT'</span><span class="o">,</span><span class="w"> </span><span class="s1">'ATCCCAA'</span><span class="o">]</span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a>
<a id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="n">Channel</span>
<a id="__codelineno-42-5" name="__codelineno-42-5"></a><span class="w">    </span><span class="o">.</span><span class="na">fromList</span><span class="o">(</span><span class="n">species</span><span class="o">)</span>
<a id="__codelineno-42-6" name="__codelineno-42-6"></a><span class="w">    </span><span class="o">.</span><span class="na">set</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">species_ch</span><span class="w"> </span><span class="o">}</span>
<a id="__codelineno-42-7" name="__codelineno-42-7"></a>
<a id="__codelineno-42-8" name="__codelineno-42-8"></a><span class="n">process</span><span class="w"> </span><span class="n">ALIGN</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-42-9" name="__codelineno-42-9"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-42-10" name="__codelineno-42-10"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">x</span>
<a id="__codelineno-42-11" name="__codelineno-42-11"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">seq</span>
<a id="__codelineno-42-12" name="__codelineno-42-12"></a>
<a id="__codelineno-42-13" name="__codelineno-42-13"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-42-14" name="__codelineno-42-14"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s2">"${x}.aln"</span>
<a id="__codelineno-42-15" name="__codelineno-42-15"></a>
<a id="__codelineno-42-16" name="__codelineno-42-16"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-42-17" name="__codelineno-42-17"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-42-18" name="__codelineno-42-18"></a><span class="s2">    echo align -in $seq &gt; ${x}.aln</span>
<a id="__codelineno-42-19" name="__codelineno-42-19"></a><span class="s2">    """</span>
<a id="__codelineno-42-20" name="__codelineno-42-20"></a><span class="o">}</span>
<a id="__codelineno-42-21" name="__codelineno-42-21"></a>
<a id="__codelineno-42-22" name="__codelineno-42-22"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-42-23" name="__codelineno-42-23"></a><span class="w">    </span><span class="n">genomes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ALIGN</span><span class="o">(</span><span class="n">species_ch</span><span class="o">,</span><span class="w"> </span><span class="n">sequences</span><span class="o">)</span>
<a id="__codelineno-42-24" name="__codelineno-42-24"></a><span class="w">    </span><span class="n">genomes</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-42-25" name="__codelineno-42-25"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>In the above example, each time the process is executed an alignment file is produced whose name depends on the actual value of the <code>x</code> input.</p>
<h3 id="composite-inputs-and-outputs"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.3.5</span> Composite inputs and outputs<a class="headerlink" href="#composite-inputs-and-outputs" title="Permanent link">¶</a></h3>
<p>So far you have seen how to declare multiple input and output channels that can handle one value at a time. However, Nextflow can also handle a <em>tuple</em> of values.</p>
<p>The <code>input</code> and <code>output</code> declarations for tuples must be declared with a <code>tuple</code> qualifier followed by the definition of each element in the tuple.</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-43-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-43-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-43-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-43-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-43-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-43-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-43-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-43-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-43-10">10</a></span>
<span class="normal"><a href="#__codelineno-43-11">11</a></span>
<span class="normal"><a href="#__codelineno-43-12">12</a></span>
<span class="normal"><a href="#__codelineno-43-13">13</a></span>
<span class="normal"><a href="#__codelineno-43-14">14</a></span>
<span class="normal"><a href="#__codelineno-43-15">15</a></span>
<span class="normal"><a href="#__codelineno-43-16">16</a></span>
<span class="normal"><a href="#__codelineno-43-17">17</a></span>
<span class="normal"><a href="#__codelineno-43-18">18</a></span>
<span class="normal"><a href="#__codelineno-43-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-43-5" name="__codelineno-43-5"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">sample_id_paths</span><span class="o">)</span>
<a id="__codelineno-43-6" name="__codelineno-43-6"></a>
<a id="__codelineno-43-7" name="__codelineno-43-7"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-43-8" name="__codelineno-43-8"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bam'</span><span class="o">)</span>
<a id="__codelineno-43-9" name="__codelineno-43-9"></a>
<a id="__codelineno-43-10" name="__codelineno-43-10"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-43-11" name="__codelineno-43-11"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-43-12" name="__codelineno-43-12"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bam</span>
<a id="__codelineno-43-13" name="__codelineno-43-13"></a><span class="s2">    """</span>
<a id="__codelineno-43-14" name="__codelineno-43-14"></a><span class="o">}</span>
<a id="__codelineno-43-15" name="__codelineno-43-15"></a>
<a id="__codelineno-43-16" name="__codelineno-43-16"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-43-17" name="__codelineno-43-17"></a><span class="w">    </span><span class="n">sample_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
<a id="__codelineno-43-18" name="__codelineno-43-18"></a><span class="w">    </span><span class="n">sample_ch</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-43-19" name="__codelineno-43-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>The output will looks something like this:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a href="#__codelineno-44-1" id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="go">[lung, /workspaces/training/nf-training/work/23/fe268295bab990a40b95b7091530b6/sample.bam]</span>
<a href="#__codelineno-44-2" id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="go">[liver, /workspaces/training/nf-training/work/32/656b96a01a460f27fa207e85995ead/sample.bam]</span>
<a href="#__codelineno-44-3" id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="go">[gut, /workspaces/training/nf-training/work/ae/3cfc7cf0748a598c5e2da750b6bac6/sample.bam]</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Modify the script of the previous exercise so that the <em>--sample</em> file is named as the given <code>sample_id</code>.</p>
<details class="solution">
<summary>Solution</summary>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-45-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-45-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-45-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-45-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-45-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-45-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-45-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-45-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-45-10">10</a></span>
<span class="normal"><a href="#__codelineno-45-11">11</a></span>
<span class="normal"><a href="#__codelineno-45-12">12</a></span>
<span class="normal"><a href="#__codelineno-45-13">13</a></span>
<span class="normal"><a href="#__codelineno-45-14">14</a></span>
<span class="normal"><a href="#__codelineno-45-15">15</a></span>
<span class="normal"><a href="#__codelineno-45-16">16</a></span>
<span class="normal"><a href="#__codelineno-45-17">17</a></span>
<span class="normal"><a href="#__codelineno-45-18">18</a></span>
<span class="normal"><a href="#__codelineno-45-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">sample_id_paths</span><span class="o">)</span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s2">"${sample_id}.bam"</span><span class="o">)</span>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-45-11" name="__codelineno-45-11"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-45-12" name="__codelineno-45-12"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; ${sample_id}.bam</span>
<a id="__codelineno-45-13" name="__codelineno-45-13"></a><span class="s2">    """</span>
<a id="__codelineno-45-14" name="__codelineno-45-14"></a><span class="o">}</span>
<a id="__codelineno-45-15" name="__codelineno-45-15"></a>
<a id="__codelineno-45-16" name="__codelineno-45-16"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-45-17" name="__codelineno-45-17"></a><span class="w">    </span><span class="n">sample_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
<a id="__codelineno-45-18" name="__codelineno-45-18"></a><span class="w">    </span><span class="n">sample_ch</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-45-19" name="__codelineno-45-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
<h3 id="output-definitions"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.3.6</span> Output definitions<a class="headerlink" href="#output-definitions" title="Permanent link">¶</a></h3>
<p>Nextflow allows the use of alternative output definitions within workflows to simplify your code.</p>
<p>You can also explicitly define the output of a channel using the <code>.out</code> attribute:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-46-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-46-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-46-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-46-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-46-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-46-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-46-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-46-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-46-10">10</a></span>
<span class="normal"><a href="#__codelineno-46-11">11</a></span>
<span class="normal"><a href="#__codelineno-46-12">12</a></span>
<span class="normal"><a href="#__codelineno-46-13">13</a></span>
<span class="normal"><a href="#__codelineno-46-14">14</a></span>
<span class="normal"><a href="#__codelineno-46-15">15</a></span>
<span class="normal"><a href="#__codelineno-46-16">16</a></span>
<span class="normal"><a href="#__codelineno-46-17">17</a></span>
<span class="normal"><a href="#__codelineno-46-18">18</a></span>
<span class="normal"><a href="#__codelineno-46-19">19</a></span>
<span class="normal"><a href="#__codelineno-46-20">20</a></span>
<span class="normal"><a href="#__codelineno-46-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a>
<a id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">sample_id_paths</span><span class="o">)</span>
<a id="__codelineno-46-6" name="__codelineno-46-6"></a>
<a id="__codelineno-46-7" name="__codelineno-46-7"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-46-8" name="__codelineno-46-8"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bam'</span><span class="o">)</span>
<a id="__codelineno-46-9" name="__codelineno-46-9"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bai'</span><span class="o">)</span>
<a id="__codelineno-46-10" name="__codelineno-46-10"></a>
<a id="__codelineno-46-11" name="__codelineno-46-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-46-12" name="__codelineno-46-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-46-13" name="__codelineno-46-13"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bam</span>
<a id="__codelineno-46-14" name="__codelineno-46-14"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bai</span>
<a id="__codelineno-46-15" name="__codelineno-46-15"></a><span class="s2">    """</span>
<a id="__codelineno-46-16" name="__codelineno-46-16"></a><span class="o">}</span>
<a id="__codelineno-46-17" name="__codelineno-46-17"></a>
<a id="__codelineno-46-18" name="__codelineno-46-18"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-46-19" name="__codelineno-46-19"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
<a id="__codelineno-46-20" name="__codelineno-46-20"></a><span class="w">    </span><span class="n">FOO</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-46-21" name="__codelineno-46-21"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>This command will produce an error message, because <code>.view()</code> operates on single channels, and FOO.out contains multiple channels.</p>
<p>If a process defines two or more output channels, each channel can be accessed by indexing the <code>.out</code> attribute, e.g., <code>.out[0]</code>, <code>.out[1]</code>, etc. In this example you only have the <code>[0]'th</code> output:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-47-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-47-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-47-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-47-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-47-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-47-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-47-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-47-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-47-10">10</a></span>
<span class="normal"><a href="#__codelineno-47-11">11</a></span>
<span class="normal"><a href="#__codelineno-47-12">12</a></span>
<span class="normal"><a href="#__codelineno-47-13">13</a></span>
<span class="normal"><a href="#__codelineno-47-14">14</a></span>
<span class="normal"><a href="#__codelineno-47-15">15</a></span>
<span class="normal"><a href="#__codelineno-47-16">16</a></span>
<span class="normal"><a href="#__codelineno-47-17">17</a></span>
<span class="normal"><a href="#__codelineno-47-18">18</a></span>
<span class="normal"><a href="#__codelineno-47-19">19</a></span>
<span class="normal"><a href="#__codelineno-47-20">20</a></span>
<span class="normal"><a href="#__codelineno-47-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-47-5" name="__codelineno-47-5"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">sample_id_paths</span><span class="o">)</span>
<a id="__codelineno-47-6" name="__codelineno-47-6"></a>
<a id="__codelineno-47-7" name="__codelineno-47-7"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-47-8" name="__codelineno-47-8"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bam'</span><span class="o">)</span>
<a id="__codelineno-47-9" name="__codelineno-47-9"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bai'</span><span class="o">)</span>
<a id="__codelineno-47-10" name="__codelineno-47-10"></a>
<a id="__codelineno-47-11" name="__codelineno-47-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-47-12" name="__codelineno-47-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-47-13" name="__codelineno-47-13"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bam</span>
<a id="__codelineno-47-14" name="__codelineno-47-14"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bai</span>
<a id="__codelineno-47-15" name="__codelineno-47-15"></a><span class="s2">    """</span>
<a id="__codelineno-47-16" name="__codelineno-47-16"></a><span class="o">}</span>
<a id="__codelineno-47-17" name="__codelineno-47-17"></a>
<a id="__codelineno-47-18" name="__codelineno-47-18"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-47-19" name="__codelineno-47-19"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
<a id="__codelineno-47-20" name="__codelineno-47-20"></a><span class="w">    </span><span class="n">FOO</span><span class="o">.</span><span class="na">out</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-47-21" name="__codelineno-47-21"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Alternatively, the process <code>output</code> definition allows the use of the <code>emit</code> statement to define a named identifier that can be used to reference the channel in the external scope.</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-48-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-48-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-48-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-48-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-48-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-48-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-48-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-48-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-48-10">10</a></span>
<span class="normal"><a href="#__codelineno-48-11">11</a></span>
<span class="normal"><a href="#__codelineno-48-12">12</a></span>
<span class="normal"><a href="#__codelineno-48-13">13</a></span>
<span class="normal"><a href="#__codelineno-48-14">14</a></span>
<span class="normal"><a href="#__codelineno-48-15">15</a></span>
<span class="normal"><a href="#__codelineno-48-16">16</a></span>
<span class="normal"><a href="#__codelineno-48-17">17</a></span>
<span class="normal"><a href="#__codelineno-48-18">18</a></span>
<span class="normal"><a href="#__codelineno-48-19">19</a></span>
<span class="normal"><a href="#__codelineno-48-20">20</a></span>
<span class="normal"><a href="#__codelineno-48-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-48-2" name="__codelineno-48-2"></a>
<a id="__codelineno-48-3" name="__codelineno-48-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-48-4" name="__codelineno-48-4"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-48-5" name="__codelineno-48-5"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">sample_id_paths</span><span class="o">)</span>
<a id="__codelineno-48-6" name="__codelineno-48-6"></a>
<a id="__codelineno-48-7" name="__codelineno-48-7"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-48-8" name="__codelineno-48-8"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bam'</span><span class="o">),</span><span class="w"> </span><span class="nl">emit:</span><span class="w"> </span><span class="n">bam</span>
<a id="__codelineno-48-9" name="__codelineno-48-9"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bai'</span><span class="o">),</span><span class="w"> </span><span class="nl">emit:</span><span class="w"> </span><span class="n">bai</span>
<a id="__codelineno-48-10" name="__codelineno-48-10"></a>
<a id="__codelineno-48-11" name="__codelineno-48-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-48-12" name="__codelineno-48-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-48-13" name="__codelineno-48-13"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bam</span>
<a id="__codelineno-48-14" name="__codelineno-48-14"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bai</span>
<a id="__codelineno-48-15" name="__codelineno-48-15"></a><span class="s2">    """</span>
<a id="__codelineno-48-16" name="__codelineno-48-16"></a><span class="o">}</span>
<a id="__codelineno-48-17" name="__codelineno-48-17"></a>
<a id="__codelineno-48-18" name="__codelineno-48-18"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-48-19" name="__codelineno-48-19"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
<a id="__codelineno-48-20" name="__codelineno-48-20"></a><span class="w">    </span><span class="n">FOO</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">bam</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-48-21" name="__codelineno-48-21"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Modify the previous example so that the <code>bai</code> output channel is printed to your terminal.</p>
<details class="solution">
<summary>Solution</summary>
<p>Your workflow will look something like this:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-49-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-49-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-49-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-49-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-49-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-49-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-49-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-49-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-49-10">10</a></span>
<span class="normal"><a href="#__codelineno-49-11">11</a></span>
<span class="normal"><a href="#__codelineno-49-12">12</a></span>
<span class="normal"><a href="#__codelineno-49-13">13</a></span>
<span class="normal"><a href="#__codelineno-49-14">14</a></span>
<span class="normal"><a href="#__codelineno-49-15">15</a></span>
<span class="normal"><a href="#__codelineno-49-16">16</a></span>
<span class="normal"><a href="#__codelineno-49-17">17</a></span>
<span class="normal"><a href="#__codelineno-49-18">18</a></span>
<span class="normal"><a href="#__codelineno-49-19">19</a></span>
<span class="normal"><a href="#__codelineno-49-20">20</a></span>
<span class="normal"><a href="#__codelineno-49-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a>
<a id="__codelineno-49-3" name="__codelineno-49-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-49-4" name="__codelineno-49-4"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-49-5" name="__codelineno-49-5"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">sample_id_paths</span><span class="o">)</span>
<a id="__codelineno-49-6" name="__codelineno-49-6"></a>
<a id="__codelineno-49-7" name="__codelineno-49-7"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-49-8" name="__codelineno-49-8"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bam'</span><span class="o">),</span><span class="w"> </span><span class="nl">emit:</span><span class="w"> </span><span class="n">bam</span>
<a id="__codelineno-49-9" name="__codelineno-49-9"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s1">'sample.bai'</span><span class="o">),</span><span class="w"> </span><span class="nl">emit:</span><span class="w"> </span><span class="n">bai</span>
<a id="__codelineno-49-10" name="__codelineno-49-10"></a>
<a id="__codelineno-49-11" name="__codelineno-49-11"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-49-12" name="__codelineno-49-12"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-49-13" name="__codelineno-49-13"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bam</span>
<a id="__codelineno-49-14" name="__codelineno-49-14"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; sample.bai</span>
<a id="__codelineno-49-15" name="__codelineno-49-15"></a><span class="s2">    """</span>
<a id="__codelineno-49-16" name="__codelineno-49-16"></a><span class="o">}</span>
<a id="__codelineno-49-17" name="__codelineno-49-17"></a>
<a id="__codelineno-49-18" name="__codelineno-49-18"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-49-19" name="__codelineno-49-19"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
<a id="__codelineno-49-20" name="__codelineno-49-20"></a><span class="w">    </span><span class="n">FOO</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">bai</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
<a id="__codelineno-49-21" name="__codelineno-49-21"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
<div class="admonition cboard-list-2">
<p class="admonition-title">Summary</p>
<p>In this step you have learned:</p>
<ol>
<li>How to use the <code>val</code> qualifier to define the output channel(s) of a process</li>
<li>How to use the <code>path</code> qualifier to define the output file(s) of a process</li>
<li>How to use the <code>tuple</code> qualifier to define the output channel(s) of a process</li>
<li>How to manage multiple output files using glob patterns</li>
<li>How to use dynamic output file names</li>
<li>How to use composite inputs and outputs</li>
<li>How to define outputs</li>
</ol>
</div>
<h2 id="when"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.4</span> When<a class="headerlink" href="#when" title="Permanent link">¶</a></h2>
<p>The <code>when</code> declaration allows you to define a condition that must be verified in order to execute the process. This can be any expression that evaluates a boolean value.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deprecated since version 24.10.0: Use conditional logic (e.g. <code>if</code> statement, <a href="https://www.nextflow.io/docs/latest/reference/operator.html#operator-filter">filter</a> operator) in the calling workflow instead.</p>
</div>
<p>It is useful to enable/disable the process execution depending on the state of various inputs and parameters. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-50-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-50-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-50-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-50-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-50-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-50-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-50-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-50-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-50-10">10</a></span>
<span class="normal"><a href="#__codelineno-50-11">11</a></span>
<span class="normal"><a href="#__codelineno-50-12">12</a></span>
<span class="normal"><a href="#__codelineno-50-13">13</a></span>
<span class="normal"><a href="#__codelineno-50-14">14</a></span>
<span class="normal"><a href="#__codelineno-50-15">15</a></span>
<span class="normal"><a href="#__codelineno-50-16">16</a></span>
<span class="normal"><a href="#__codelineno-50-17">17</a></span>
<span class="normal"><a href="#__codelineno-50-18">18</a></span>
<span class="normal"><a href="#__codelineno-50-19">19</a></span>
<span class="normal"><a href="#__codelineno-50-20">20</a></span>
<span class="normal"><a href="#__codelineno-50-21">21</a></span>
<span class="normal"><a href="#__codelineno-50-22">22</a></span>
<span class="normal"><a href="#__codelineno-50-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="n">params</span><span class="o">.</span><span class="na">dbtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'nr'</span>
<a id="__codelineno-50-2" name="__codelineno-50-2"></a><span class="n">params</span><span class="o">.</span><span class="na">prot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'data/prots/*.tfa'</span>
<a id="__codelineno-50-3" name="__codelineno-50-3"></a><span class="n">proteins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">prot</span><span class="o">)</span>
<a id="__codelineno-50-4" name="__codelineno-50-4"></a>
<a id="__codelineno-50-5" name="__codelineno-50-5"></a><span class="n">process</span><span class="w"> </span><span class="n">FIND</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-50-6" name="__codelineno-50-6"></a><span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-50-7" name="__codelineno-50-7"></a>
<a id="__codelineno-50-8" name="__codelineno-50-8"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-50-9" name="__codelineno-50-9"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">fasta</span>
<a id="__codelineno-50-10" name="__codelineno-50-10"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">type</span>
<a id="__codelineno-50-11" name="__codelineno-50-11"></a>
<a id="__codelineno-50-12" name="__codelineno-50-12"></a><span class="w">    </span><span class="nl">when:</span>
<a id="__codelineno-50-13" name="__codelineno-50-13"></a><span class="w">    </span><span class="n">fasta</span><span class="o">.</span><span class="na">name</span><span class="w"> </span><span class="o">=~</span><span class="w"> </span><span class="s">/^BB11.*/</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'nr'</span>
<a id="__codelineno-50-14" name="__codelineno-50-14"></a>
<a id="__codelineno-50-15" name="__codelineno-50-15"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-50-16" name="__codelineno-50-16"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-50-17" name="__codelineno-50-17"></a><span class="s2">    echo blastp -query $fasta -db nr</span>
<a id="__codelineno-50-18" name="__codelineno-50-18"></a><span class="s2">    """</span>
<a id="__codelineno-50-19" name="__codelineno-50-19"></a><span class="o">}</span>
<a id="__codelineno-50-20" name="__codelineno-50-20"></a>
<a id="__codelineno-50-21" name="__codelineno-50-21"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-50-22" name="__codelineno-50-22"></a><span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FIND</span><span class="o">(</span><span class="n">proteins</span><span class="o">,</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">dbtype</span><span class="o">)</span>
<a id="__codelineno-50-23" name="__codelineno-50-23"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition cboard-list-2">
<p class="admonition-title">Summary</p>
<p>In this step you have learned:</p>
<ol>
<li>How to use the <code>when</code> declaration to allow conditional processes</li>
</ol>
</div>
<h2 id="directives"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.5</span> Directives<a class="headerlink" href="#directives" title="Permanent link">¶</a></h2>
<p>Directive declarations allow the definition of optional settings that affect the execution of the current process without affecting the <em>semantic</em> of the task itself.</p>
<p>They must be entered at the top of the process body, before any other declaration blocks (i.e., <em>input</em>, <em>output</em>, etc.).</p>
<p>Directives are commonly used to define the amount of computing resources to be used or other meta directives that allow the definition of extra configuration of logging information. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-51-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-51-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-51-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-51-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-51-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-51-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-51-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-51-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-51-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="w">    </span><span class="n">cpus</span><span class="w"> </span><span class="mi">2</span>
<a id="__codelineno-51-3" name="__codelineno-51-3"></a><span class="w">    </span><span class="n">memory</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="na">GB</span>
<a id="__codelineno-51-4" name="__codelineno-51-4"></a><span class="w">    </span><span class="n">container</span><span class="w"> </span><span class="s1">'image/name'</span>
<a id="__codelineno-51-5" name="__codelineno-51-5"></a>
<a id="__codelineno-51-6" name="__codelineno-51-6"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-51-7" name="__codelineno-51-7"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-51-8" name="__codelineno-51-8"></a><span class="s2">    echo your_command --this --that</span>
<a id="__codelineno-51-9" name="__codelineno-51-9"></a><span class="s2">    """</span>
<a id="__codelineno-51-10" name="__codelineno-51-10"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>The complete list of directives is available <a href="https://www.nextflow.io/docs/latest/process.html#directives">at this link</a>. Some of the most common are described in detail below.</p>
<h3 id="resource-allocation"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.5.1</span> Resource allocation<a class="headerlink" href="#resource-allocation" title="Permanent link">¶</a></h3>
<p>Directives that allow you to define the amount of computing resources to be used by the process. These are:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.nextflow.io/docs/latest/process.html#cpus"><code>cpus</code></a></td>
<td>Allows you to define the number of (logical) CPUs required by the process’ task.</td>
</tr>
<tr>
<td><a href="https://www.nextflow.io/docs/latest/process.html#time"><code>time</code></a></td>
<td>Allows you to define how long the task is allowed to run (e.g., time <em>1h</em>: 1 hour, <em>1s</em> 1 second, <em>1m</em> 1 minute, <em>1d</em> 1 day).</td>
</tr>
<tr>
<td><a href="https://www.nextflow.io/docs/latest/process.html#memory"><code>memory</code></a></td>
<td>Allows you to define how much memory the task is allowed to use (e.g., <em>2 GB</em> is 2 GB). Can also use B, KB,MB,GB and TB.</td>
</tr>
<tr>
<td><a href="https://www.nextflow.io/docs/latest/process.html#disk"><code>disk</code></a></td>
<td>Allows you to define how much local disk storage the task is allowed to use.</td>
</tr>
</tbody>
</table>
<p>These directives can be used in combination with each other to allocate specific resources to each process. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-52-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-52-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-52-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-52-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-52-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-52-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-52-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-52-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-52-10">10</a></span>
<span class="normal"><a href="#__codelineno-52-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-52-2" name="__codelineno-52-2"></a><span class="w">    </span><span class="n">cpus</span><span class="w"> </span><span class="mi">2</span>
<a id="__codelineno-52-3" name="__codelineno-52-3"></a><span class="w">    </span><span class="n">memory</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="na">GB</span>
<a id="__codelineno-52-4" name="__codelineno-52-4"></a><span class="w">    </span><span class="n">time</span><span class="w"> </span><span class="s1">'1h'</span>
<a id="__codelineno-52-5" name="__codelineno-52-5"></a><span class="w">    </span><span class="n">disk</span><span class="w"> </span><span class="s1">'10 GB'</span>
<a id="__codelineno-52-6" name="__codelineno-52-6"></a>
<a id="__codelineno-52-7" name="__codelineno-52-7"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-52-8" name="__codelineno-52-8"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-52-9" name="__codelineno-52-9"></a><span class="s2">    echo your_command --this --that</span>
<a id="__codelineno-52-10" name="__codelineno-52-10"></a><span class="s2">    """</span>
<a id="__codelineno-52-11" name="__codelineno-52-11"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="publishdir-directive"><span class="enumerate-headings-plugin enumerate-heading-plugin">9.5.2</span> PublishDir directive<a class="headerlink" href="#publishdir-directive" title="Permanent link">¶</a></h3>
<p>Given each task is being executed in separate temporary <code>work/</code> folder (e.g., <code>work/f1/850698…</code>), you may want to save important, non-intermediary, and/or final files in a results folder.</p>
<p>To store our workflow result files, you need to explicitly mark them using the directive <a href="https://www.nextflow.io/docs/latest/process.html#publishdir">publishDir</a> in the process that’s creating the files. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-53-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-53-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-53-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-53-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-53-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-53-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-53-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-53-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-53-10">10</a></span>
<span class="normal"><a href="#__codelineno-53-11">11</a></span>
<span class="normal"><a href="#__codelineno-53-12">12</a></span>
<span class="normal"><a href="#__codelineno-53-13">13</a></span>
<span class="normal"><a href="#__codelineno-53-14">14</a></span>
<span class="normal"><a href="#__codelineno-53-15">15</a></span>
<span class="normal"><a href="#__codelineno-53-16">16</a></span>
<span class="normal"><a href="#__codelineno-53-17">17</a></span>
<span class="normal"><a href="#__codelineno-53-18">18</a></span>
<span class="normal"><a href="#__codelineno-53-19">19</a></span>
<span class="normal"><a href="#__codelineno-53-20">20</a></span>
<span class="normal"><a href="#__codelineno-53-21">21</a></span>
<span class="normal"><a href="#__codelineno-53-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-53-2" name="__codelineno-53-2"></a>
<a id="__codelineno-53-3" name="__codelineno-53-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-53-4" name="__codelineno-53-4"></a><span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s2">"results"</span><span class="o">,</span><span class="w"> </span><span class="nl">pattern:</span><span class="w"> </span><span class="s2">"*.bam"</span>
<a id="__codelineno-53-5" name="__codelineno-53-5"></a>
<a id="__codelineno-53-6" name="__codelineno-53-6"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-53-7" name="__codelineno-53-7"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">sample_id_paths</span><span class="o">)</span>
<a id="__codelineno-53-8" name="__codelineno-53-8"></a>
<a id="__codelineno-53-9" name="__codelineno-53-9"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-53-10" name="__codelineno-53-10"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s2">"*.bam"</span><span class="o">)</span>
<a id="__codelineno-53-11" name="__codelineno-53-11"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s2">"*.bai"</span><span class="o">)</span>
<a id="__codelineno-53-12" name="__codelineno-53-12"></a>
<a id="__codelineno-53-13" name="__codelineno-53-13"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-53-14" name="__codelineno-53-14"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-53-15" name="__codelineno-53-15"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; ${sample_id}.bam</span>
<a id="__codelineno-53-16" name="__codelineno-53-16"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; ${sample_id}.bai</span>
<a id="__codelineno-53-17" name="__codelineno-53-17"></a><span class="s2">    """</span>
<a id="__codelineno-53-18" name="__codelineno-53-18"></a><span class="o">}</span>
<a id="__codelineno-53-19" name="__codelineno-53-19"></a>
<a id="__codelineno-53-20" name="__codelineno-53-20"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-53-21" name="__codelineno-53-21"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
<a id="__codelineno-53-22" name="__codelineno-53-22"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>The above example will copy all BAM files created by the <code>FOO</code> process into the directory path <code>results</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The publish directory can be local or remote. For example, output files could be stored using an <a href="https://aws.amazon.com/s3/">AWS S3 bucket</a> by using the <code>s3://</code> prefix in the target path.</p>
</div>
<p>You can use more than one <code>publishDir</code> to keep different outputs in separate directories. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-54-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-54-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-54-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-54-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-54-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-54-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-54-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-54-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-54-10">10</a></span>
<span class="normal"><a href="#__codelineno-54-11">11</a></span>
<span class="normal"><a href="#__codelineno-54-12">12</a></span>
<span class="normal"><a href="#__codelineno-54-13">13</a></span>
<span class="normal"><a href="#__codelineno-54-14">14</a></span>
<span class="normal"><a href="#__codelineno-54-15">15</a></span>
<span class="normal"><a href="#__codelineno-54-16">16</a></span>
<span class="normal"><a href="#__codelineno-54-17">17</a></span>
<span class="normal"><a href="#__codelineno-54-18">18</a></span>
<span class="normal"><a href="#__codelineno-54-19">19</a></span>
<span class="normal"><a href="#__codelineno-54-20">20</a></span>
<span class="normal"><a href="#__codelineno-54-21">21</a></span>
<span class="normal"><a href="#__codelineno-54-22">22</a></span>
<span class="normal"><a href="#__codelineno-54-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-54-2" name="__codelineno-54-2"></a>
<a id="__codelineno-54-3" name="__codelineno-54-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-54-4" name="__codelineno-54-4"></a><span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s2">"results/bam"</span><span class="o">,</span><span class="w"> </span><span class="nl">pattern:</span><span class="w"> </span><span class="s2">"*.bam"</span>
<a id="__codelineno-54-5" name="__codelineno-54-5"></a><span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s2">"results/bai"</span><span class="o">,</span><span class="w"> </span><span class="nl">pattern:</span><span class="w"> </span><span class="s2">"*.bai"</span>
<a id="__codelineno-54-6" name="__codelineno-54-6"></a>
<a id="__codelineno-54-7" name="__codelineno-54-7"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-54-8" name="__codelineno-54-8"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">sample_id_paths</span><span class="o">)</span>
<a id="__codelineno-54-9" name="__codelineno-54-9"></a>
<a id="__codelineno-54-10" name="__codelineno-54-10"></a><span class="w">    </span><span class="nl">output:</span>
<a id="__codelineno-54-11" name="__codelineno-54-11"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s2">"*.bam"</span><span class="o">)</span>
<a id="__codelineno-54-12" name="__codelineno-54-12"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="s2">"*.bai"</span><span class="o">)</span>
<a id="__codelineno-54-13" name="__codelineno-54-13"></a>
<a id="__codelineno-54-14" name="__codelineno-54-14"></a><span class="w">    </span><span class="nl">script:</span>
<a id="__codelineno-54-15" name="__codelineno-54-15"></a><span class="w">    </span><span class="s2">"""</span>
<a id="__codelineno-54-16" name="__codelineno-54-16"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; ${sample_id}.bam</span>
<a id="__codelineno-54-17" name="__codelineno-54-17"></a><span class="s2">    echo your_command_here --sample $sample_id_paths &gt; ${sample_id}.bai</span>
<a id="__codelineno-54-18" name="__codelineno-54-18"></a><span class="s2">    """</span>
<a id="__codelineno-54-19" name="__codelineno-54-19"></a><span class="o">}</span>
<a id="__codelineno-54-20" name="__codelineno-54-20"></a>
<a id="__codelineno-54-21" name="__codelineno-54-21"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-54-22" name="__codelineno-54-22"></a><span class="w">    </span><span class="n">FOO</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
<a id="__codelineno-54-23" name="__codelineno-54-23"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Edit the <code>publishDir</code> directive in the previous example to store the output files for each sample type in a different directory.</p>
<details class="solution">
<summary>Solution</summary>
<p>Your solution could look something like this:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">snippet.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1">1</a></span>
<span class="normal"><a href="#__codelineno-55-2">2</a></span>
<span class="normal"><a href="#__codelineno-55-3">3</a></span>
<span class="normal"><a href="#__codelineno-55-4">4</a></span>
<span class="normal"><a href="#__codelineno-55-5">5</a></span>
<span class="normal"><a href="#__codelineno-55-6">6</a></span>
<span class="normal"><a href="#__codelineno-55-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s1">'data/ggal/*_{1,2}.fq'</span><span class="o">)</span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="n">process</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s2">"results/$sample_id"</span><span class="o">,</span><span class="w"> </span><span class="nl">pattern:</span><span class="w"> </span><span class="s2">"*.{bam,bai}"</span>
<a id="__codelineno-55-5" name="__codelineno-55-5"></a>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><span class="w">    </span><span class="nl">input:</span>
<a id="__codelineno-55-7" name="__codelineno-55-7"></a><span class="o">...</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
<div class="admonition cboard-list-2">
<p class="admonition-title">Summary</p>
<p>In this step you have learned:</p>
<ol>
<li>How to use the cpus, time, memory, and disk directives to define the amount of computing resources to be used by the process</li>
<li>How to use the publishDir directive to store the output files in a results folder</li>
</ol>
</div>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Retour en haut de la page
</button>
</main>
<footer class="md-footer">
<nav aria-label="Pied de page" class="md-footer__inner md-grid">
<a aria-label="Précédent: Channels" class="md-footer__link md-footer__link--prev" href="../channels/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Précédent
              </span>
<div class="md-ellipsis">
                Channels
              </div>
</div>
</a>
<a aria-label="Suivant: Operators" class="md-footer__link md-footer__link--next" href="../operators/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Suivant
              </span>
<div class="md-ellipsis">
                Operators
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div>
    Copyright © 2020-2025,
    <a href="https://seqera.io" rel="noopener" target="_blank">Seqera</a>.
  </div>
<div class="footer_cc_link">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
<!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.-->
<path d="m245.83 214.87-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93-22.13 0-33.22 14.61-33.22 43.84 0 23.57 9.21 43.84 33.22 43.84 14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98-22.6 0-73.96-10.32-73.96-77.05 0-58.69 43-77.06 72.63-77.06 30.72-.01 52.7 11.95 65.99 35.86zm143.05 0-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93-22.14 0-33.22 14.61-33.22 43.84 0 23.55 9.23 43.84 33.22 43.84 14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98-22.69 0-73.96-9.87-73.96-77.05 0-58.67 42.97-77.06 72.63-77.06 30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248 129.93 0 248.44-100.87 248.44-248 0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81 0-105.42 85.43-203.27 203.72-203.27 112.53 0 202.82 89.46 202.82 203.26-.01 121.69-99.68 202.82-202.84 202.82z"></path>
</svg>
<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" rel="noopener" target="_blank" title="Creative Commons CC BY-NC-ND 4.0">
      Creative Commons BY-NC-ND 4.0</a>.
  </div>
   Made with
  <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
    Material for MkDocs
  </a>
</div>
<div class="md-social">
<a class="footer_seqera_logo" href="https://seqera.io" rel="noopener" target="_blank">
<img src="/assets/img/seqera_logo_white.png">
</img></a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-consent" data-md-component="consent" hidden="" id="__consent">
<div class="md-consent__overlay"></div>
<aside class="md-consent__inner">
<form class="md-consent__form md-grid md-typeset" name="consent">
<h4><span class="enumerate-headings-plugin enumerate-heading-plugin">9.5.2.1</span> Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our training materials better. Find out more on <a href="https://seqera.io/privacy-policy/#cookies" rel="noopener" target="_blank">how we use cookies</a>.</p>
<input class="md-toggle" id="__settings" type="checkbox"/>
<div class="md-consent__settings">
<ul class="task-list">
<li class="task-list-item">
<label class="task-list-control">
<input checked="" name="analytics" type="checkbox"/>
<span class="task-list-indicator"></span>
      Google Analytics
    </label>
</li>
<li class="task-list-item">
<label class="task-list-control">
<input checked="" name="github" type="checkbox"/>
<span class="task-list-indicator"></span>
      GitHub
    </label>
</li>
<li class="task-list-item">
<label class="task-list-control">
<input checked="" name="posthog" type="checkbox"/>
<span class="task-list-indicator"></span>
      PostHog Analytics
    </label>
</li>
</ul>
</div>
<div class="md-consent__controls">
<button class="md-button md-button--primary">Accepter</button>
<label class="md-button" for="__settings">Paramétrer vos choix</label>
</div>
</form>
</aside>
</div>
<script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
<script id="__config" type="application/json">{"base": "../../../..", "features": ["content.action.edit", "content.code.annotate", "content.code.copy", "navigation.footer", "navigation.instant", "navigation.top", "navigation.tracking", "search.share", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": {"alias": true, "provider": "mike"}}</script>
<script src="../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script src="../../../../assets/javascripts/posthog.js"></script>
</body>
</html>